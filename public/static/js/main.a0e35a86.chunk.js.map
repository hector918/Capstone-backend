{"version":3,"sources":["fetch_.js","general_.js","components/message-footer.js","stroage_.js","components/loading-icon.js","components/moving-gallery.js","pages/landing.js","components/document-menu-bar.js","pdf-wrapper_.js","components/document-display.js","components/interaction-panel.js","components/interactionMenuBar.js","pages/reading-page.js","components/auth.js","components/login-panel.js","components/user-profile-dropdown.js","components/navbar.js","pages/mobile-landing-page.js","mobile-only-components/mobile-navbar.js","components/chatting-init-parameter-panel.js","components/chatting-history-interaction-panel.js","components/chatting-thread-list-panel.js","pages/chatting.js","App.js","reportWebVitals.js","index.js"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","API","process","default_fetch_options","error_handle","error","console","fetch_post","url","fetchOptions","callback","arguments","undefined","headers","_objectSpread","credentials","fetch","response","json","data","fetch_patch","fetch_get","body","fetch_delete","fetch_get_async","_x","_fetch_get_async","apply","_asyncToGenerator","_callee","ret","_context","t0","fetch_post_async","_x2","_x3","_fetch_post_async","_callee2","res","_context2","_fetch_get_async_without_credential","_callee3","fetch_options","text","_context3","status","statusText","_downloadFile","_callee4","fileHash","_context4","concat","_uploadFileCheckExists","_callee5","_context5","_chatting_to_openai","_callee6","stream_callback","signal","_context6","JSON","stringify","log","window","TextDecoderStream","_insertNewPrompt","_callee7","title","prompt","linkslist","_context7","_deletePrompt","_callee8","prompt_id","_context8","_readPrompts","_callee9","_context9","entry","fetch_get_async_without_credential","_x4","chatting_to_openai","_x8","_x9","_x10","checkLoginFunction","checkUserID","userId","UserRegister","form","UserLogin","UserLogout","checkLoginStatus","UpdateUserProfile","fetch_put","userLoginWithThirdParty","idToken","getLanguages","getLanguageFile","filename","getDocuments","pdfThumbnailPrefix","pdfLinkPrefix","uploadFileCheckExists","_x7","uploadFile","files","_step","formData","FormData","_iterator","_createForOfIteratorHelper","file","append","err","downloadFile","_x5","_x6","getLibrary","addDocumentToUser","filehash","question_to_reading_comprehension","q","level","text_to_explanation","language","get_all_history_from_fileHash","userToggleReadingComprehensionShare","comprehension_history_id","is_share","userToggleTextToExplainationShare","text_explaination_history_id","insertNewPrompt","_x11","_x12","_x13","_x14","_x15","readPrompts","_x18","deletePrompt","_x16","_x17","createElement","root","document","x","children","ev","addEventListener","setAttribute","loadingIcon","React","className","setDeepJsonValue","deepValue","idx","Number","createHashFromStr","str","CryptoJS","MD5","outputLength","toString","createFileHash","reject","reader","FileReader","onload","evt","hash","SHA256","ab","i8a","Uint8Array","lib","WordArray","arrayBufferToWordArray","target","result","onerror","readAsArrayBuffer","throttle","fn","wait","lastCall","Date","now","this","trans","translation","setfileHash_","addMessage","MessageFooter","_ref","messageBoard","useRef","bgColor","content","element","class","childs_","tagname_","event_","onRemove","innerText","classList","add","current","animationName","parentNode","removeChild","setTimeout","ref","warn","check_string","item","check_key_name","category","keyName","setHistory","subKeyName","history","parse","localStorage","getItem","setItem","_defineProperty","getHistory","deleteHistory","removeItem","pull_history","question","getFileDetail","history_category","_step2","_iterator2","extractFromStructure","template","timestamp","usage","anwser","dataTemplate","key","readPosition","path","_step3","_iterator3","readThreadsAsArray","chatting_list","Array","isArray","removeThread","threadHash","threadList","wrapper","uploadPDF","srv","libraryFromLC","oldDataFromLC","getDate","callFetch","userHistoryFileHash","el","questionToReadingComprehension","getAllHistoryFromFileHash","_step4","_iterator4","getAllHistoryOrderByUnifyTime","raw","catalog_key","sort","b","getTime","textToExplanation","saveChat","model","temperature","messages","threadKeyName","topic","threadTemplate","initThread","updateList","readThread","clearAllThreads","LoadingIcon","size","MovingGallery","_cards$Random","_cards$Random$mainSer","_cards$Random2","_cards$Random2$repeat","_cards$Classic","_cards$Classic$mainSe","_cards$Classic2","_cards$Classic2$repea","_cards$HistoryAndRo","_cards$HistoryAndRo$m","_cards$HistoryAndRo2","_cards$HistoryAndRo2$","_useState","useState","_useState2","_slicedToArray","cards","setCards","card_templete","Link","to","src","fe_","onLoad","backgroundImageOnLoad","alt","meta","useEffect","stroage_","_ref2","_loop","mainSerial","repeatSerial","currentTarget","previousElementSibling","remove","map","Landing","isLogin","signInUpButton","navigate","useNavigate","style","display","textAlign","Fragment","onClick","data-tooltip","click","DocumentMenuBar","pagesCount","pageNumberInput","libraryModal","isUploading","setIsUploading","_useState3","_useState4","uploadingStatus","setUploadingStatus","_useState5","_useState6","libraryData","setLibraryData","_useState7","_useState8","recentsData","setRecentsData","fileInput","defaultUploadTips","cardTemplete","cardData","backgroundImage","onDocumentCardClick","is_favorite","readLibrary","useCallback","recentsContainer","querySelector","lc_","OnUploadInputChange","fileMeta","pv","_toConsumableArray","libraryModalClose","stopPropagation","getAttribute","onChange","accept","href","aria-label","min","max","onBlur","page","scrollIntoView","behavior","defaultValue","extractTextAndImageFromPDF","_extractTextAndImageFromPDF","PDFJS","pdf","parsePage","_parsePage","imgs","_yield$page$getOperat","fnArray","getOperatorList","argsArray","img","OPS","paintImageXObject","objs","get","getTextContent","init","trim","getDocument","promise","numPages","getPage","t1","_init","cdn_pdfjs_link","cdn_pdfjs_worker_link","script","location","origin","GlobalWorkerOptions","workerSrc","appendChild","DocumentDisplay","setPagesCount","isLoading","setIsLoading","render_container","errorMessage","setErrorMessage","container","firstChild","_processPdfHash","processPdfHash","pdfContent","render_pdf_page","ce","obj","tagName","pdf_content","_render_container$cur","elements_list","div","id","page_number","innerHTML","canvas","createImageBitmap","bitmap","width","height","getContext","drawImage","page_p","span","hasEOL","test","message","onDocumentScolling","_evt$target$getBoundi","getBoundingClientRect","pageNum","findPageNumber","parent","rect","adjustedX","left","adjustedY","top","elementFromPoint","getElementFromParentXY","onScroll","InteractionDisplay","historyPanel","historyList","setHistoryList","inputBox","historyFromUpdatedLocalStorage","_historyPanel$current","lastChildElement","lastElementChild","returnTypeIcon","jsonItem","toggle","onHistoryShareButtonClick","toLocaleTimeString","readOnly","InteractionMenuBar","questionsHistory","setQuestionHistory","questionJson","questionId","onQuestionCardClick","ReadingPage","useParams","setFileHash","selectedText","setSelectedText","textSelectionPopupDiv","onMouseUp","getSelection","pDiv","cursorH","innerWidth","clientX","cursorV","innerHeight","clientY","right","alignItems","flexDirection","bottom","currentLanguage","replace","FIREBASE_API","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","initializeApp","getAuth","provider","GoogleAuthProvider","signInWithPopup","user","accessToken","uid","email","OAuthProvider","setCustomParameters","tenant","Login","sign_modal","loginAvailable","loginRegex","setUserInfo","userInfo","sign_up","sign_in","signUpIdInput","signUpPasswordInput1","signUpPasswordInput2","signInIdInput","signInPasswordInput","sign_in_tab_button","userIdRegex","setUserIDRegex","passwordRegex","setPasswordRegex","checkUserIdLoading","setCheckUserIdLoading","signInLoading","setSignInLoading","on_sign_modal_close_click","on_sign_modal_tab_click","childNodes","password_input_change","hintDiv","allPasswordInput","querySelectorAll","newChilds","forHint","RegExp","test_value","replaceChildren","onThirdPartyLoginClick","fb_auth","action","onSubmit","preventDefault","regex","password","placeholder","check_userID_p","test_userId","margin","gap","justifyContent","disabled","UserProfileContent","on_user_logout_click","data-content","username","NavBar","setLanguage","setTranslation","SetLoginAvailable","SetLoginRegex","navigation","on_change_language","tabIndex","availableList","_ref3","_ref4","val","defaultChecked","MobileLandingPage","MobileNavbar","userProfileContainer","gerneralIndex","ChattingInitParameterPanel","initParameter","index","modelList","promptsList","setPromptsList","modalPromptTextareaWordCount","setModalPromptTextareaWordCount","newPromptModal","modalTypeInput","modalTitleInput","modalTypeTextarea","initForm","formExtraField","modalPromptForm","modalPromptTextareaWarning","searchInput","setSearchInput","promptListToDisplay","filter","toLowerCase","includes","fetch_","onNewPromptModalToggle","focus","clearinitParameterPrompt","modalFormReset","defaultCheck","_json$links","links","onPromptInputChange","_ref5","el1","el2","maxLength","returnFormGroup","onModalAddField","textDecoration","_form$linkName","elements","linksList","onSavePromptClick","continueScroll","ChattingHistoryInteractionPanel","topicHash","setTopichash","setThreadList","chattingDisplay","userInputTextarea","inputCounter","renderChattingCard","threadRow","_createChattingCard","createChattingCard","card","answerDisplay","blinkingCursor","parentElement","threadHistory","onHistoryPanelScroll","onTouchMove","onKeyDown","onMouseDown","onWheel","requestOnEnd","fullContent","textValue","toLocaleString","timeoutCountDown","controller","AbortController","countDown","setInterval","abort","clearInterval","role","_createChattingCard2","scrollTop","scrollHeight","onEnd","ChattingThreadListPanel","themeForm","themeCustomModal","customModalShow","setCustomModalShow","onLightModeClick","mode","_userInfo$profile_set","_userInfo$profile_set2","_userInfo$profile_set3","theme","saveMode","profile_setting","setting","chatting","setProperty","thread","onCardClick","substring","cs","getComputedStyle","documentElement","colorNameToHex","color","dummy","computedColor","rgb","match","parseInt","toUpperCase","entries","customRet","_step$value","getPropertyValue","requestSubmit","renderThemeCustomModal","Chatting","App","matchMedia","matches","screenWidthMatch","setScreenWidthMatch","throttleMoveFn","rel","Router","Routes","Route","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render"],"mappings":"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","file":"static/js/main.a0e35a86.chunk.js","sourcesContent":["const API = process.env.REACT_APP_API_URL;\nlet default_fetch_options = {\n  \"Access-Control-Allow-Origin\": \"*\",\n  \"Content-Type\": \"application/json\",\n};\n\nfunction error_handle(error) {\n  console.error(error);\n}\n\nfunction fetch_post(url, fetchOptions, callback, method = 'POST') {\n  fetchOptions.method = method;\n  fetchOptions.headers = {\n    ...default_fetch_options,\n    ...fetchOptions.headers\n  }\n  if (fetchOptions.headers['Content-Type'] === \"delete\")\n    delete fetchOptions.headers['Content-Type'];\n  //add cookies before fire\n  fetchOptions.credentials = \"include\";\n  fetch(url, fetchOptions)\n    .then((response) => response.json())\n    .then((data) => {\n      callback(data);\n    })\n    .catch(error => {\n      error_handle(error);\n      callback(error);\n    });\n}\nfunction fetch_patch(url, fetchOptions, callback) {\n  fetch_post(url, fetchOptions, callback, 'PATCH');\n}\nfunction fetch_put(url, fetchOptions, callback) {\n  fetch_post(url, fetchOptions, callback, 'PUT');\n}\n\nfunction fetch_get(url, callback) {\n  const body = {\n    method: \"GET\",\n    headers: {\n      ...default_fetch_options,\n    },\n    credentials: \"include\",\n  }\n\n  fetch(url, body)\n    .then((response) => response.json())\n    .then((data) => {\n      callback(data);\n    })\n    .catch(error => {\n      error_handle(error);\n      callback({ error: \"fetch error\" });\n    });\n}\nfunction fetch_delete(url, callback) {\n  const body = {\n    method: \"DELETE\",\n    headers: {\n      ...default_fetch_options,\n    },\n    credentials: \"include\",\n  }\n\n  fetch(url, body)\n    .then((response) => response.json())\n    .then((data) => {\n      callback(data);\n    })\n    .catch(error => {\n      error_handle(error);\n      callback({ error: \"fetch error\" });\n    });\n}\n\nasync function fetch_get_async(url) {\n  try {\n    const body = {\n      method: \"GET\",\n      headers: {\n        ...default_fetch_options,\n      },\n      credentials: \"include\",\n    };\n    const response = await fetch(url, body);\n    const ret = await response.json();\n    return ret;\n  } catch (error) {\n    error_handle(error);\n    return error;\n  }\n}\nasync function fetch_post_async(url, body) {\n  try {\n    body.method = \"POST\";\n    body.headers = {\n      ...body.headers,\n      ...default_fetch_options,\n    }\n    //add cookies when fired\n    body.credentials = \"include\";\n    const res = await fetch(url, body);\n    return res;\n  } catch (error) {\n    error_handle(error);\n    return false;\n  }\n}\nasync function fetch_get_async_without_credential(url) {\n  try {\n    const fetch_options = {\n      method: 'GET',\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n    }\n\n    const response = await fetch(url, fetch_options);\n    if (response.status !== 200) throw new Error(response.statusText);\n    let text = await response.text();\n    return text;\n  } catch (error) {\n    error_handle(error);\n    return error;\n  }\n}\n//// login potion/////////////////////////////////////\nfunction checkLoginFunction(callback) {\n  fetch(`${API}/login/available`)\n    .then((response) => response.json())\n    .then((data) => {\n      callback(data);\n    })\n    .catch(error => {\n      error_handle(error);\n      callback(false);\n    });\n}\nfunction checkUserID(userId, callback) {\n  const body = {\n    body: JSON.stringify({ userId }),\n  }\n  fetch_post(`${API}/login/check_userID`, body, callback)\n}\nfunction UserRegister(form, callback) {\n  const body = {\n    method: \"POST\",\n    body: JSON.stringify(form),\n    headers: {\n      ...default_fetch_options,\n    },\n  }\n  fetch_post(`${API}/login/register`, body, callback);\n}\nfunction UserLogin(form, callback) {\n  const body = {\n    body: JSON.stringify(form)\n  }\n  fetch_post(`${API}/login/login`, body, callback);\n}\nfunction UserLogout(callback) {\n  fetch_get(`${API}/login/logout`, (data) => {\n    callback(data);\n  })\n}\nfunction checkLoginStatus(callback) {\n  fetch_get(`${API}/login/check_login_status`, (data) => {\n    callback(data);\n  })\n}\n\nfunction UpdateUserProfile(body, callback) {\n  fetch_put(`${API}/login/update_user_setting`, { body: JSON.stringify(body) }, (data) => {\n    callback(data);\n  })\n}\nfunction userLoginWithThirdParty(idToken, callback) {\n  const body = { body: JSON.stringify({ idToken }) };\n  fetch_post(`${API}/login/user_third_party_login`, body, (data) => {\n    callback(data);\n  });\n}\n////language/////////////////////////////////////\nfunction getLanguages(callback) {\n  fetch_get(`${API}/languages/all_languages`, (data) => {\n    callback(data);\n  });\n}\nfunction getLanguageFile(filename, callback) {\n  fetch_get(`${API}/languages/change_language/${filename}`, callback);\n}\n/////////////////////////////////////////////////\nfunction getDocuments(callback) {\n  fetch_get(`${API}/pda/list`, (data) => {\n    callback(data);\n  });\n}\n\nfunction getLibrary(callback) {\n  fetch_get(`${API}/luda/library`, (data) => {\n    callback(data);\n  });\n}\nfunction addDocumentToUser(filehash, callback) {\n  const body = { body: JSON.stringify({ filehash }) };\n  fetch_post(`${API}/luda/addDocumentToUser`, body, callback);\n}\nfunction userToggleReadingComprehensionShare(comprehension_history_id, is_share, callback) {\n  const body = JSON.stringify({ comprehension_history_id, is_share });\n  fetch_patch(`${API}/luda/updateReadingComprehensionShareState`, { body }, callback);\n}\nfunction userToggleTextToExplainationShare(text_explaination_history_id, is_share, callback) {\n  const body = JSON.stringify({ text_explaination_history_id, is_share });\n  fetch_patch(`${API}/luda/updateTextToExplainationShareState`, { body }, callback);\n}\n////////////////////////////////////\nasync function downloadFile(fileHash, callback) {\n  fetch_get(`${API}/pda/${fileHash}`, callback);\n}\n////////////////////////////////////\nasync function uploadFileCheckExists(fileHash) {\n  return await fetch_get_async(`${API}/pda/meta/${fileHash}`);\n}\n\nfunction uploadFile(files, callback) {\n  const formData = new FormData();\n  for (let file of files) formData.append(\"files\", file);\n  const body = {\n    body: formData,\n    headers: { \"Content-Type\": \"delete\" }\n  }\n  fetch_post(`${API}/upload_files`, body, callback);\n  /* result example\n    {\n      \"result\":\"success\",\n      \"fileHash\":\"0ad1d820761a5aca9df52c22ea1cfc4ca5dad64923f51270dbe8f106f3817eef\",\n      \"message\":\"Successfully uploaded\"\n    }\n  */\n}\nfunction get_all_history_from_fileHash(fileHash, callback) {\n  fetch_get(`${API}/pda/chathistory/${fileHash}`, callback);\n}\n/////////////////////////////////////////////////\nfunction text_to_explanation(fileHash, q, language, callback) {\n  const fetch_options = {\n    body: JSON.stringify({ q, fileHash, language })\n  }\n  fetch_post(`${API}/ra/text`, fetch_options, callback);\n}\nfunction question_to_reading_comprehension(fileHash, q, level, callback) {\n  const fetch_options = {\n    body: JSON.stringify({ q, fileHash, level }),\n  };\n  fetch_post(`${API}/rc`, fetch_options, callback);\n  /* result example\n  {\n    \"id\":\"chatcmpl-7FtdtwCgRUMg6nEx64M0RPrNOpZJc\",\"object\":\"chat.completion\",\n    \"created\":1684023165,\n    \"model\":\"gpt-3.5-turbo-0301\",\n    \"usage\":{\n      \"prompt_tokens\":2023,\n      \"completion_tokens\":28,\n      \"total_tokens\":2051\n    },\n    \"choices\":[{\n      \"message\":{\n        \"role\":\"assistant\",\n        \"content\":\"The story is about an old fisherman who has gone 84 days without catching a fish and his journey to catch a giant marlin.\"\n      },\n      \"finish_reason\":\"stop\",\n      \"index\":0\n    }]}\n  */\n}\nasync function chatting_to_openai(body, stream_callback, signal) {\n  try {\n    const response = await fetch_post_async(`${API}/cwo/openai/SSE`, { body: JSON.stringify(body), signal });\n    if (!response.body) return;\n    //pick up server sent event\n    console.log(\"dsads,\", window.TextDecoderStream)\n    return;\n    // const reader = response.body.pipeThrough(new TextDecoderStream()).getReader();\n\n    // while (true) {\n    //   var { value, done } = await reader.read();\n    //   if (done) { return }\n    //   //some times the response from server will stack together, use \\n on the server to separate each response and reduce it back to original data\n    //   const parsed = value.split(\"\\n\").filter(el => el !== undefined && el !== \"\");\n    //   stream_callback(parsed);\n    // }\n  } catch (error) {\n    console.error(error);\n    stream_callback(error);\n  }\n}\n\nasync function insertNewPrompt(type, title, prompt, linkslist, callback) {\n  const body = { body: JSON.stringify({ type, title, prompt, linkslist }) };\n  fetch_post(`${API}/prompt/new`, body, callback);\n}\n\nasync function deletePrompt(prompt_id, callback) {\n  fetch_delete(`${API}/prompt/${prompt_id}`, callback);\n}\n\nasync function readPrompts(callback) {\n  fetch_get(`${API}/prompt/`, callback);\n}\n/////////////////////////////////////////////////\nconst entry = {\n  fetch_get_async, fetch_get_async_without_credential,\n  chatting_to_openai,\n  checkLoginFunction, checkUserID,\n  UserRegister, UserLogin, UserLogout,\n  checkLoginStatus, UpdateUserProfile,\n  userLoginWithThirdParty,\n  getLanguages, getLanguageFile,\n  getDocuments,\n  pdfThumbnailPrefix: `${API}/pda/pdf_thumbnail`,\n  pdfLinkPrefix: `${API}/pda`,\n  uploadFileCheckExists, uploadFile, downloadFile,\n  getLibrary,\n  addDocumentToUser,\n  question_to_reading_comprehension,\n  text_to_explanation,\n  get_all_history_from_fileHash,\n  userToggleReadingComprehensionShare,\n  userToggleTextToExplainationShare,\n  insertNewPrompt, readPrompts, deletePrompt,\n};\n\nexport default entry;","import React from 'react';\nimport CryptoJS from 'crypto-js';\n\n/////////////////////////////////////////////////\nfunction removeAllChild(node) {\n  if (!node || !node.childNodes) return false;\n  for (let x of node.childNodes) {\n    node.removeChild(x);\n  }\n}\n\nfunction createElement(json) {\n  const root = document.createElement(json['tagname_'] || \"div\");\n  for (var x in json) {\n    switch (x) {\n      case \"tagname_\":\n        //ignore \n        break;\n      case \"childs_\":\n        for (var o in json[x]) {\n          //if json[x][o] === json object than create element, else just append\n          if (json[x][o].constructor === ({}).constructor) {\n            var children = createElement(json[x][o]);\n            root.append(children);\n          } else {\n            root.append(json[x][o]);\n          }\n        }\n        break;\n      case \"innerHTML\": case \"innerText\": case \"textContent\":\n        root[x] = json[x];\n        break;\n      case \"event_\":\n        for (let ev in json[x]) {\n          root.addEventListener(ev, json[x][ev], true);\n        }\n        break;\n      // case \"export_\":\n      //   root.export[json[x]] = root['self'];\n      // break;\n      default:\n        root.setAttribute(x, json[x]);\n        break;\n    }\n  }\n  return root;\n}\n\nfunction loadingIcon() {\n  return <div className=\"fa-1x loading-icon-h\"><i className=\"fas fa-circle-notch fa-pulse\"></i></div>;\n}\n////this is callback version of createFileHash//////////\n// function createHash(file, callback){\n//   var reader = new FileReader();\n//   reader.onload = function (evt) {\n//     const hash = CryptoJS.SHA256(arrayBufferToWordArray(evt.target.result)).toString();\n//     callback(hash);\n//     ///////////////////////////////\n//     function arrayBufferToWordArray(ab) {\n//       var i8a = new Uint8Array(ab);\n//       var a = [];\n//       for (var i = 0; i < i8a.length; i += 4) {\n//         a.push((i8a[i] << 24) | (i8a[i + 1] << 16) | (i8a[i + 2] << 8) | (i8a[i + 3]));\n//       }\n//       return CryptoJS.lib.WordArray.create(a, i8a.length);\n//     }\n//   };\n//   reader.readAsArrayBuffer(file);\n// }\n\nfunction setDeepJsonValue(json, level, deepValue) {\n  var ret = json;\n  for (let idx in level) {\n    if (ret[level[idx]] === undefined) ret[level[idx]] = {};\n    if (Number(idx) === (level.length - 1)) {\n      ret[level[idx]] = deepValue;\n    }\n    ret = ret[level[idx]];\n  }\n  return json;\n}\nfunction createPasswordHash(str) {\n  const hashDigest = CryptoJS.SHA256(str);\n  return hashDigest.toString();\n}\n\nfunction createHashFromStr(str) {\n  return CryptoJS.MD5(str, { outputLength: 8 }).toString();\n}\n\nfunction createFileHash(file) {\n  return new Promise((resolve, reject) => {\n    var reader = new FileReader();\n    reader.onload = function (evt) {\n      const hash = CryptoJS.SHA256(arrayBufferToWordArray(evt.target.result)).toString();\n      resolve(hash);\n    };\n    reader.onerror = function (evt) {\n      reject(evt.target.error);\n    };\n    reader.readAsArrayBuffer(file);\n\n    ///////////////////////////////\n    function arrayBufferToWordArray(ab) {\n      var i8a = new Uint8Array(ab);\n      var a = [];\n      for (var i = 0; i < i8a.length; i += 4) {\n        a.push((i8a[i] << 24) | (i8a[i + 1] << 16) | (i8a[i + 2] << 8) | (i8a[i + 3]));\n      }\n      return CryptoJS.lib.WordArray.create(a, i8a.length);\n    }\n  });\n}\n///////////////////////////////////\nfunction throttle(fn, wait) {\n  let lastCall = Date.now() - wait;\n  return function () {\n    let now = Date.now();\n    if (now - lastCall >= wait) {\n      lastCall = now;\n      fn.apply(this, arguments);\n    }\n  };\n}\n///////////////////////////////////\nfunction trans(str, translation) {\n  try {\n    if (translation[str]) return translation[str];\n\n  } catch (error) {\n    return str;\n  }\n  return str;\n}\n/////////////////////////////////////\nvar setfileHash_ = undefined;\nfunction change_setFileHash(func) {\n  setfileHash_ = func;\n}\nfunction setFileHash(filehash) {\n  if (setfileHash_) {\n    setfileHash_(filehash);\n  }\n}\n/////////////////////////////////////\n\nexport {\n  removeAllChild,\n  createElement,\n  trans,\n  createFileHash,\n  createPasswordHash,\n  loadingIcon,\n  change_setFileHash, setFileHash,\n  createHashFromStr,\n  throttle,\n  setDeepJsonValue\n};","import React, {useRef} from \"react\";\nimport './message-footer.css';\nimport {createElement, trans} from '../general_';\nlet addMessage = null;\nconst autoCollapseTime = 5000;\nfunction MessageFooter({translation}){\n  const messageBoard = useRef(null);\n  ///////////////////////////////////////////////////////\n  function createMessage(title, content = \"\", type = \"dark\"){\n    let bgColor;\n    switch(type){\n      case \"success\": bgColor = \"toast-success\"; break;\n      case \"warning\": bgColor = \"toast-warning\"; break;\n      case \"error\": bgColor = \"toast-error\"; break;\n      default: bgColor = \"\"; \n    }\n    //creating element\n    const element = createElement({class: `toast ${bgColor}`, childs_:[\n      \n      {tagname_: \"i\", class: \"fa-solid fa-xmark p-absolute c-hand close-button\", event_:{\"click\": onRemove}},\n      {tagname_: \"p\", class:` toast-title`, innerText: trans(title, translation)},\n      {tagname_: \"p\", class:\"\", innerText: trans(content, translation)}\n    ]});\n    messageBoard.current.append(element);\n    //remove message from board when animation end\n    element.addEventListener(\"animationend\", (evt)=>{\n      if(evt.animationName === \"toastOut\"){\n        element.parentNode.removeChild(element);\n      }\n    });\n    //auto close\n    setTimeout(() => {\n      onRemove();\n    }, autoCollapseTime);\n    ///active animation\n    function onRemove(){\n      element.classList.add(\"on-remove\");\n    }\n  }\n  addMessage = createMessage;\n  ///////////////////////////////////////////////////////\n  return <div ref={messageBoard} className=\"message-footer-h p-absolute\">\n    \n  </div>\n}\n\nexport {MessageFooter, addMessage}","import srv from './fetch_';\nimport {trans} from './general_';\nimport {addMessage} from './components/message-footer';\n;\nconst [file_list_prefix, moving_gallery_prefix, library_documents_prefix] = [\"files\", \"moving_gallery_prefix\", \"library_documents_prefix\"];\n\nconst [chatting_list_index, chatting_thread] = [\"chatting_lists\", \"chat_hash_prefix\"];\n\nfunction error_handle(error) {\n  console.warn(error);\n}\nfunction check_string(){\n  for(let item of arguments) if(typeof item !== 'string'){\n    return false;\n  }\n  return true;\n}\n//use local storage as cache\n/////////////////////////////////////////////////\nfunction check_key_name(category, fileHash){\n  let keyName = \"\"\n  switch(category){\n    case \"image\":\n      keyName = `${file_list_prefix}-${fileHash}-image-history`;\n    break;\n    case \"text\":\n      keyName = `${file_list_prefix}-${fileHash}-text-history`;\n    break;\n    case \"comprehension\":\n      keyName = `${file_list_prefix}-${fileHash}-comprehension-history`;\n    break;\n    default:\n      return false;\n  }\n  return keyName;\n}\n\nfunction setHistory(category, fileHash, subKeyName, item){\n  const keyName = check_key_name(category, fileHash);\n  if(!keyName) return false;\n  // const item = {...data, timestamp: new Date()};\n  try {\n    let history = JSON.parse(localStorage.getItem(keyName));\n    history[subKeyName] = item;\n    localStorage.setItem(keyName, JSON.stringify(history));\n  } catch (error) {\n    localStorage.setItem(keyName, JSON.stringify({[subKeyName]: item}));\n  }\n}\n\nfunction getHistory(category, fileHash){\n  if(typeof fileHash !== 'string') return false;\n  const keyName = check_key_name(category, fileHash);\n  try {\n    const history = JSON.parse(localStorage.getItem(keyName))\n    return !history ? {} : history;\n  } catch (error) {\n    error_handle(error);\n    return {};\n  }\n}\n\nfunction deleteHistory(category, fileHash){\n  const keyName = check_key_name(category, fileHash);\n  localStorage.removeItem(keyName);\n}\n\nfunction pull_history(fileHash, category, question){\n  const history = getFileDetail(fileHash, [category]);\n  try{\n    if(history[category][question]){\n      return history[category][question];\n    }\n    return false;\n  }catch(error){\n    return false;\n  }\n}\n\nfunction getFileDetail(fileHash, history_category = ['metaData']){\n  const ret = {};\n  if (check_string(fileHash) === false ) return false;\n  for(let x of history_category){\n    try {\n      switch(x){\n        case \"metaData\":\n          ret[x] = JSON.parse(localStorage.getItem(`${file_list_prefix}-${fileHash}`));\n        break;\n        case \"text\": case \"textToExplanation\":\n          ret['textToExplanation'] = getHistory('text', fileHash);\n        break;\n        case \"image\": case \"textToImage\":\n          ret['textToImage'] = getHistory('image', fileHash);\n        break;\n        case \"comprehension\": case \"textToComprehension\":\n          ret['textToComprehension'] = getHistory('comprehension', fileHash);\n        break;\n        default:\n          error_handle('not recognize in get file detail:' + x);\n      }\n    } catch (error) {\n      error_handle(error);\n      continue;\n    }\n  }\n  return ret;\n}\n////globe helper/////////////////////////////////////\nfunction extractFromStructure(json, type){\n  //json data are nested , extract data base on template, \n  const template = dataTemplate(type);\n  if(!template){\n    error_handle('history data template error.')\n    return;\n  }\n  \n  try {\n    for(let key in template){\n      template[key] = readPosition(template[key]);\n    }\n  } catch (error) {\n    console.error('reading from local stroage:', type, json, template, error);\n    throw error; \n  }\n  \n  return template;\n  ////help below//////////////////////////\n  function readPosition(path){\n    let value = json;\n    for (const key of path) value = value[key];\n    return value;\n  }\n  function dataTemplate(type){\n    switch(type){\n      case \"textToComprehension\": return {\n        q: [\"q\"],\n        level: ['level'],\n        is_share: ['is_share'],\n        timestamp: ['timestamp'],\n        comprehension_history_id: ['comprehension_history_id'],\n        usage: ['usage'],\n        anwser: ['result', 'choices', 0, 'message', 'content']\n      }\n      case \"textToExplanation\": return {\n        q: [\"q\"],\n        is_share: ['is_share'],\n        timestamp: ['timestamp'],\n        text_explaination_history_id: ['text_explaination_history_id'],\n        usage: ['usage'],\n        anwser: ['result', 'choices', 0, 'message', 'content'],\n      }\n      default: return undefined;\n    }\n  }\n}\n\nfunction getAllHistoryOrderByUnifyTime(fileHash) {\n  //read all history about this filehash, and reorganized it to an array and order by timestamp\n  const raw = getFileDetail(fileHash, [\"comprehension\", \"image\", \"text\"]);\n  const ret = [];\n  for (let catalog_key in raw)\n    for (let content in raw[catalog_key]) {\n      try {\n        ret.push({\n          ...extractFromStructure(raw[catalog_key][content], catalog_key),\n          type: catalog_key,\n        });\n      } catch (error) {\n        continue;\n      }\n    }\n  ret.sort((a, b) =>{\n    return new Date(a.timestamp).getTime() > new Date(b.timestamp).getTime()\n    ? 1\n    : -1\n  });\n  return ret;\n}\n/////////////////////////////////////////////////\nfunction uploadPDF(file, callback){\n  try {\n    srv.uploadFile(file, (res) => {\n      try {\n        //if readable from local storage, add to local storage\n        const libraryFromLC = JSON.parse(localStorage.getItem(library_documents_prefix));\n        libraryFromLC.data.push(res);\n        localStorage.setItem(library_documents_prefix, JSON.stringify(libraryFromLC));\n      } catch (error) {\n        //create a new set, and add to local storage\n        localStorage.setItem(library_documents_prefix, JSON.stringify({data: [res]}));\n      }\n      callback(res);\n    });\n  } catch (error) {\n    error_handle(error);\n    callback(false);\n  }\n}\nfunction getDocuments(callback){\n  try {\n    let oldDataFromLC = JSON.parse(localStorage.getItem(moving_gallery_prefix));\n    if(oldDataFromLC?.data){\n      //if have old data\n      if(new Date(oldDataFromLC.timestamp).getDate() !== new Date().getDate()){\n        //refreah moving gallery every day\n        callFetch();\n      }else callback(oldDataFromLC);\n    }else{\n      //request new data from server\n      callFetch();\n    }\n  } catch (error) {\n    error_handle(error);\n    callFetch();\n  }\n  function callFetch(){\n    srv.getDocuments((res) => {\n      try {\n        if(res.error) throw res.error;\n        res.timestamp = new Date().getDate();\n        localStorage.setItem(moving_gallery_prefix, JSON.stringify(res));\n        callback(res);\n      } catch (error) {\n        error_handle(error);\n        callback(false);\n        addMessage(trans(\"get document\"), trans(\"server error, try again later.\"), \"error\");\n      }\n    });\n  }\n}\n\nfunction getLibrary(callback){\n  try {\n    try {\n      //pulling history library in localstroage\n      const libraryFromLC = JSON.parse(localStorage.getItem(library_documents_prefix));\n      console.log(\"reading library from localstorage\");\n      callback(libraryFromLC);\n      return\n    } catch (error) {\n      //if parse go south remove problem data;\n      localStorage.removeItem(library_documents_prefix);\n    }\n    //read library from server\n    srv.getLibrary((res) => {\n      //plug res back to localstroage if return data\n      if(res.data) localStorage.setItem(library_documents_prefix, JSON.stringify(res));\n      callback(res);\n    });\n  } catch (error) {\n    error_handle(error);\n    callback(false);\n  }\n}\n\nfunction addDocumentToUser(filehash, callback){\n  try {\n    srv.addDocumentToUser(filehash, (res) => {\n      try {\n        //receive from Local stroage\n        const libraryFromLC = JSON.parse(localStorage.getItem(library_documents_prefix));\n        if(res.data) {\n          libraryFromLC.data.push(res.data);\n          localStorage.setItem(library_documents_prefix, JSON.stringify(libraryFromLC));\n        }\n      } catch (error) {\n        if(res.error){\n          localStorage.removeItem(library_documents_prefix);\n        }else{\n          localStorage.setItem(library_documents_prefix, JSON.stringify({data: [res.data]}));\n        }\n        error_handle(error);\n      }\n      callback(res);\n    });\n  } catch (error) {\n    error_handle(error);\n    callback(false);\n  }\n}\nfunction UserLogin(form, callback){\n  try {\n    srv.UserLogin(form, res => {\n      if(res.data){\n        console.log(res.data);\n      }\n      callback(res);\n    })\n  } catch (error) {\n    error_handle(error);\n    callback(false);\n  }\n}\nfunction UpdateUserProfile(body, callback){\n  try {\n    srv.UpdateUserProfile(body, res => {\n      callback(res);\n    })\n  } catch (error) {\n    \n  }\n}\nfunction UserLogout(callback){\n  try {\n    srv.UserLogout((res) => {\n      if(res.data) {\n        //remove user data if user was logout\n        let userHistoryFileHash = localStorage.getItem(library_documents_prefix);\n        if(userHistoryFileHash){\n          userHistoryFileHash = JSON.parse(userHistoryFileHash).data;\n          localStorage.removeItem(library_documents_prefix);\n          userHistoryFileHash.forEach((el) => {\n            deleteHistory(\"comprehension\", el.filehash);\n            deleteHistory(\"text\", el.filehash);\n            deleteHistory(\"image\", el.filehash);\n          });\n        } \n      }\n      callback(res);\n    })\n  } catch (error) {\n    error_handle(error);\n  }\n}\n//////////////////////////////////////////\nfunction questionToReadingComprehension(fileHash, q, level, callback){\n  try {\n    if (check_string(fileHash, q) === false ) return false;\n    const subKeyName = `${q}-${level}`;\n    const history = pull_history(fileHash, 'comprehension', subKeyName);\n    \n    if(history !== false){\n      callback(history);\n      return;\n    } \n    srv.question_to_reading_comprehension(fileHash, q, level, (res) => {\n      \n      //if res success\n      if(res.data) setHistory(\"comprehension\", fileHash, `${q}-${level}`, res.data);\n      callback(res);\n    })\n  } catch (error) {\n    error_handle(error);\n    callback(false);\n  }\n}\nfunction textToExplanation(fileHash, q, language, callback){\n  try {\n\n    const subKeyName = q;\n    //pull history\n    const history = pull_history(fileHash, 'textToExplanation', subKeyName);\n    if(history !== false){\n      callback(history);\n      return;\n    }\n    //read from server\n    srv.text_to_explanation(fileHash, q, language, (res) => {\n      if(res.data) setHistory('text', fileHash, q, res.data);\n      callback(res);\n    })\n  } catch (error) {\n    error_handle(error);\n    callback(false);\n  }\n}\nfunction getAllHistoryFromFileHash(filehash, callback){\n  try {\n    //const history = getHistory(\"comprehension\", filehash);\n    srv.get_all_history_from_fileHash(filehash, (res) => {\n      if(res.data){\n        for(let type in res.data) for(let item of res.data[type])\n        {\n          //reading comprehension have level, else dosn't\n          if(item.level){\n            setHistory(type, item.filehash, `${item.q}-${item.level}`, item);\n          }else{\n            setHistory(type, item.filehash, item.q, item);\n          }\n        }\n      }\n      callback(res);\n    })\n  } catch (error) {\n    error_handle(error);\n    callback(false);\n  }\n}\nfunction userToggleReadingComprehensionShare(item, callback){\n  try {\n    const {comprehension_history_id, is_share, q, level, fileHash} = item;\n    srv.userToggleReadingComprehensionShare(comprehension_history_id, is_share, (res) => {\n      if(res.data){\n        const subKeyName = `${q}-${level}`;\n        const history = getHistory('comprehension', fileHash);\n        history['is_share'] = is_share;\n        setHistory('comprehension', fileHash, subKeyName, history);\n\n        callback(res);\n      }else callback(false);\n    })\n  } catch (error) {\n    error_handle(error);\n    callback(false);\n  }\n}\nfunction userToggleTextToExplainationShare(item, callback){\n  try {\n    const {text_explaination_history_id, is_share, q, level, fileHash} = item;\n    srv.userToggleTextToExplainationShare(text_explaination_history_id, is_share, (res) => {\n      if(res.data){\n        const subKeyName = `${q}-${level}`;\n        const history = getHistory('text', fileHash);\n        history['is_share'] = is_share;\n        setHistory('text', fileHash, subKeyName, history);\n\n        callback(res);\n      }else callback(false);\n    })\n  } catch (error) {\n    error_handle(error);\n    callback(false);\n  }\n}\n///for chatting//////////////////////////////\nconst saveChat = (threadHash, { model, temperature, question, messages, response, type, title}) => {\n  //chatting_list_index, chatting_thread\n  const threadKeyName = chatting_thread + threadHash;\n  try {\n    const history = JSON.parse(localStorage.getItem(chatting_list_index));\n    if(history[threadHash] !== undefined){\n      //exists\n      try {\n        //insert into chatting thread\n        const topic = JSON.parse(localStorage.getItem(threadKeyName));\n        topic.push(threadTemplate());\n        localStorage.setItem(threadKeyName, JSON.stringify(topic));\n      } catch (error) {\n        error_handle(error);\n        initThread();\n      }\n    }else{\n      //if not exists\n      updateList(history);\n      initThread();\n    }\n  } catch (error) {\n    error_handle(error);\n    updateList();\n    initThread();\n  }\n  //////////helper/////////////////////////\n  function updateList(history = undefined){\n    if(history !== undefined){\n      history[threadHash] ={\n        model,\n        temperature,\n        threadHash, \n        question, \n        type, \n        title,\n        timestamp: new Date().getTime()\n      }\n    }else{\n      history = {[threadHash]: {\n        model,\n        temperature,\n        threadHash, \n        question, \n        type, \n        title,\n        timestamp: new Date().getTime()\n      }};\n    }\n    localStorage.setItem(chatting_list_index, JSON.stringify(history));\n  }\n  //\n  function initThread(){\n    localStorage.setItem(threadKeyName, JSON.stringify([threadTemplate()]));\n  }\n  //\n  function threadTemplate(){\n    return {\n      threadHash, \n      question, \n      messages,\n      response,\n      type, \n      title,\n      timestamp: new Date().getTime()\n    };\n  }\n}\nconst readThreadsAsArray = () => {\n  try {\n    const chatting_list = localStorage.getItem(chatting_list_index);\n    if(chatting_list === null) return [];\n    const history = Object.values(JSON.parse(chatting_list));\n    return Array.isArray(history)? history: [];\n  } catch (error) {\n    error_handle(error);\n    return [];\n  }\n}\n\nconst readThread = (threadHash) => {\n  try {\n    const thread = JSON.parse(localStorage.getItem(chatting_thread + threadHash));\n    return thread;\n  } catch (error) {\n    error_handle(error);\n    return [];\n  }\n}\nconst clearAllThreads = () => {\n  const threads = readThreadsAsArray();\n  threads.forEach(el => {\n    removeThread(el.threadHash);\n  })\n  localStorage.removeItem(chatting_list_index)\n}\nconst removeThread = (threadHash) => {\n  try {\n    localStorage.removeItem(chatting_thread + threadHash);\n    //remove from index\n    const threadList = JSON.parse(localStorage.getItem(chatting_list_index));\n    delete threadList[threadHash];\n    localStorage.setItem(chatting_list_index, JSON.stringify(threadList));\n    return true;\n  } catch (error) {\n    error_handle(error);\n    return false;\n  }\n}\n//////////////////////////////////////////\nconst wrapper = {\n  getFileDetail,\n  uploadPDF,\n  getDocuments,\n  getLibrary,\n  UserLogin,\n  UserLogout,\n  UpdateUserProfile,\n  addDocumentToUser,\n  questionToReadingComprehension,\n  getAllHistoryFromFileHash,\n  userToggleReadingComprehensionShare,\n  getAllHistoryOrderByUnifyTime,\n  textToExplanation,\n  userToggleTextToExplainationShare,\n  //for chatting///////////////////\n  saveChat, readThreadsAsArray, readThread,\n  clearAllThreads, removeThread\n}\n\nexport default wrapper;","import React from \"react\";\nexport default function LoadingIcon({size}){\n  return <i className={`fa-solid fa-circle-notch fa-spin  ${size}`}></i>\n}","import React, { useEffect, useState } from \"react\";\nimport './moving-gallery.css';\nimport fe_ from '../fetch_';\nimport stroage_ from '../stroage_';\nimport {trans} from '../general_';\nimport {Link} from \"react-router-dom\";\nimport LoadingIcon from \"./loading-icon\";\n//////////////////////////////////////\nexport default function MovingGallery({translation}){\n  const [cards, setCards] = useState({});\n  //////////////////////////////////////\n  useEffect(()=>{\n    stroage_.getDocuments(({data}) => {\n      if(!data) return;\n      //remove timestamp, timestamp only for storage to check data during.\n      delete data.timestamp;\n      const ret = {}\n      //check key and try to render it\n      for(let key in data){\n        ret[key] = {\n          mainSerial: [],\n          repeatSerial: []\n        }\n        data[key].forEach((document) => {\n          ret[key].mainSerial.push(document);\n          ret[key].repeatSerial.push(document);\n        })\n      }\n      setCards({...ret});\n    });\n  }, [])\n  ///////////////////////////////////////////////\n  function card_templete(json, idx){\n    return <Link \n      className = \"carousel__slide carousel__slide_forward\" \n      key = {`carousel-slide-${idx}`} \n      to={`/reading/${json.fileHash}`}\n      filehash = {json.fileHash}\n    >\n      <div><LoadingIcon size={'fa-2xl'}/></div>\n      <img \n        className = \"carousel__image is-not-visable-h\" \n        src = {`${fe_.pdfThumbnailPrefix}/${json.fileHash}`}\n        onLoad = {backgroundImageOnLoad}\n        alt = {json.meta.name}\n        title = {json.meta.name}\n      />\n    </Link>\n  }\n  \n  ////////////////////////////////////////////////\n  const backgroundImageOnLoad = (evt) => {\n    const displayNone = 'is-not-visable-h';\n    evt.currentTarget.previousElementSibling.classList.add(displayNone)\n    evt.currentTarget.classList.remove(displayNone);\n  }\n  ////////////////////////////////////////////////\n  return <div className=\"moving-gallery-div\">\n    <section className=\"\">\n      <div className=\"container-fluid px-0\">\n        {/* {renderCardSubContainer(cards)} */}\n        <div className=\"gap-h\">\n          <span>{trans(\"Random\", translation)} &darr;</span>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"carousel__wrapper carousel_forward\">\n              {cards[\"Random\"]?.mainSerial?.map(card_templete)}\n              {/* <!--#### repeat ####--> */}\n              {cards[\"Random\"]?.repeatSerial?.map(card_templete)}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"gap-h\">\n          <span>{trans(\"Classic\", translation)} &darr;</span>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"carousel__wrapper carousel_backward\">\n              {cards[\"Classic\"]?.mainSerial?.map(card_templete)}\n              {/* <!--#### repeat ####--> */}\n              {cards[\"Classic\"]?.repeatSerial?.map(card_templete)}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"gap-h\">\n          <span>{trans(\"History and Romance\", translation)} &darr;</span>\n        </div>\n        <div className=\"row third-row\">\n          <div className=\"col-12\">\n            <div className=\"carousel__wrapper carousel_forward\">\n              {cards['History and Romance']?.mainSerial?.map(card_templete)}\n              {/* <!--#### repeat ####--> */}\n              {cards['History and Romance']?.repeatSerial?.map(card_templete)}\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </section>\n  </div>\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport './landing.scss';\nimport MovingGallery from \"../components/moving-gallery\";\nimport { trans } from '../general_';\nimport { useNavigate } from \"react-router-dom\";\nimport { addMessage } from '../components/message-footer';\n//////////////////////////////////////////\nexport default function Landing({ translation, isLogin, signInUpButton }) {\n  const navigate = useNavigate();\n  //////////////////////////////////////////\n  const onReadingButtonClick = (evt) => {\n    if (isLogin()) {\n      navigate(\"/reading\");\n    } else {\n      addMessage(\n        trans(\"Landing page\", translation),\n        trans(\"You need to login first.\", translation),\n        'error'\n      );\n    }\n  }\n  const onChattingButtonClick = (evt) => {\n    if (isLogin()) {\n      navigate(\"/chatting\")\n    } else {\n      addMessage(\n        trans(\"Landing page\", translation),\n        trans(\"You need to login first.\", translation),\n        'error'\n      );\n    }\n  }\n  const onLoginButtonClick = (evt) => {\n    signInUpButton.current.click();\n  }\n  //////////////////////////////////////////\n  return <div className=\"landing-container\">\n    <div className=\"moving-gallery-panel\"><MovingGallery translation={translation} /></div>\n    <div className=\"floating-panel\">\n      <div>\n      </div>\n      <div>\n        <span className=\"title-h\">{trans(\"Uses AI\", translation)}</span>\n      </div>\n      <div>\n        <span className=\"title-h\">{trans(\"Read the document\", translation)}</span>\n      </div>\n      <div>\n        <span className=\"title-h\">{trans(\"And answer\", translation)}</span>\n      </div>\n      <div>\n        <span className=\"title-h\">{trans(\"Questions.\", translation)}</span>\n      </div>\n      <div>\n        <span className=\"subtitle-h\">{trans(\"Discover the full story\", translation)}</span>\n      </div>\n      <div>\n        <span className=\"subtitle-h\">{trans(\"Let AI guide you through every page.\", translation)}</span>\n      </div>\n      <div style={{ display: \"grid\", textAlign: \"center\" }}>\n        <span className=\"guider\">\n          <div className=\"popover popover-right\">\n            <span className=\"btn btn-primary\"><i className=\"fa-solid fa-arrow-right fa-beat\"></i> {trans(\"Hover me for video walkthrough.\", translation)} <i className=\"fa-solid fa-circle-question\"></i></span>\n            <div className=\"popover-container\">\n              <div className=\"card\">\n                <div className=\"card-header\">{trans(\"click the link below to open a new windows for video walkthrough host on youtube (english)\", translation)}\n                </div>\n                <div className=\"card-body\">\n                  <div>1. <Link target=\"_new\" to={\"https://youtu.be/HoeM9rm1nLU\"}>{trans(\"Reading Comprehension\", translation)}</Link></div>\n                  <div>2. <Link target=\"_new\" to={\"https://youtu.be/FoLbWVdXwUE\"}>{trans(\"chatGPT chat bot\", translation)}</Link></div>\n                </div>\n                <div className=\"card-footer\">\n                  ...\n                </div>\n              </div>\n            </div>\n          </div>\n        </span>\n      </div>\n      <div>\n        {isLogin()\n          ? <>\n            <p\n              className=\"major-button tooltip tooltip-right \"\n              onClick={onReadingButtonClick}\n              data-tooltip={trans('use AI to reading document \\nand answer your question.', translation)}\n            >\n              {trans(\"Reading Comprehension\", translation)}\n            </p>\n            <p\n              className=\"major-button tooltip tooltip-right\"\n              onClick={onChattingButtonClick}\n              data-tooltip={trans(\"OpenAI GPT AI \\nwith presetable prompt \\nchat history will storage in local \\n we don\\\\'t keep any data.\", translation)}\n            >\n              {trans(\"chatGPT\", translation)}\n            </p>\n          </>\n          :\n          <p\n            className=\"major-button tooltip tooltip-right \"\n            data-tooltip={trans('after sign in enabling upload file.', translation)}\n            onClick={onLoginButtonClick}\n          >\n            {trans(\"Sign Up/ In\", translation)}\n          </p>\n        }\n      </div>\n      <div></div>\n    </div>\n  </div>\n}","import React from 'react';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport './document-menu-bar.css';\nimport { createFileHash, trans, setFileHash } from '../general_';\nimport fe_ from '../fetch_';\nimport lc_ from '../stroage_';\nimport { addMessage } from '../components/message-footer';\n/////////////////////////////////////////////////\nexport default function DocumentMenuBar({ translation, isLogin, pagesCount, pageNumberInput }) {\n  const libraryModal = useRef(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadingStatus, setUploadingStatus] = useState([]);\n  const [libraryData, setLibraryData] = useState([]);\n  const [recentsData, setRecentsData] = useState([]);\n  const fileInput = useRef(null);\n  //////////////////////////////////////\n  setTimeout(() => {\n    setUploadingStatus(defaultUploadTips());\n  }, 1000);\n  function defaultUploadTips() {\n    if (isLogin()) {\n      return [trans(\"Click me to upload file...\", translation)];\n    } else {\n      return [trans(\"You need to login first.\", translation)];\n    }\n  }\n  ///////////////////////////////////////\n  const cardTemplete = (cardData, idx) => {\n    return <div\n      className='library-content-card'\n      key={`library-content-div-${idx}`}\n      style={{ backgroundImage: `url(${fe_.pdfThumbnailPrefix}/${cardData.filehash})` }}\n      onClick={onDocumentCardClick}\n      filehash={cardData.filehash}\n    >\n      <div className='card-info-container'>\n        <div className='card-title'>\n          <span>{cardData.name}</span>\n        </div>\n      </div>\n      <div className='icon-container'>\n        <div><i className={`fa-solid fa-trash fa-xl c-hand`}></i></div>\n        <div><i className={`fa-solid fa-star fa-xl c-hand ${cardData.is_favorite && \"icon-active\"}`}></i></div>\n        <div><i className={`fa-solid fa-share-nodes fa-xl ${cardData.is_share && \"icon-active\"} c-hand`}></i></div>\n      </div>\n    </div>\n  }\n\n  const readLibrary = useCallback((res) => {\n    if (res.error) {\n      addMessage(\n        trans(\"Reading library\", translation),\n        trans(res.error, translation),\n        'error'\n      );\n      // if return error remove state\n      setLibraryData([]);\n    } else if (res.data) {\n      //if return data plug in to state\n      setLibraryData(res.data);\n      setRecentsData(res.data.slice(-5));\n      ////little bit hack here, if recent more than 5 move the container to the center////////\n      const recentsContainer = document.querySelector(\".popover-container-for-recents\");\n      if (res.data.length > 4) {\n        recentsContainer.classList.add('more-than-five-hack');\n      } else {\n        recentsContainer.classList.remove('more-than-five-hack');\n      }\n    }\n  }, [translation])\n  ///////////////////////////////////////////////\n  useEffect(() => {\n    if (isLogin()) lc_.getLibrary(readLibrary);\n  }, [readLibrary, isLogin]);\n  //////////////////////////////////////////////\n  const onUploadClick = (evt) => {\n    if (isLogin()) fileInput.current.click();\n  }\n  const OnUploadInputChange = async (evt) => {\n    const file = evt.target.files[0];\n    if (file && !isUploading) {\n      setIsUploading(true);\n      setUploadingStatus([\n        trans(\"Start upload...\", translation),\n        trans(\"File name:\", translation) + ` ${file.name}`\n      ]);\n      const fileHash = await createFileHash(file);\n      const fileMeta = await fe_.uploadFileCheckExists(fileHash);\n      setUploadingStatus(pv => [...pv, trans(\"File exists:\", translation) + ` ${!fileMeta.error ? \"true\" : \"false\"}`]);\n      if (fileMeta.error) {\n        //if file not exists on the backend, upload init\n        lc_.uploadPDF([evt.target.files[0]], (res) => {\n          console.log(res);\n          lc_.getLibrary(readLibrary);\n          if (res.error) addMessage(\n            trans(\"In upload file\", translation),\n            trans(res.error, translation),\n            \"error\"\n          );\n        });\n\n      } else {\n        //if file exists on the backend\n        ///add document to user library\n        lc_.addDocumentToUser(fileHash, (res) => {\n          lc_.getLibrary(readLibrary);\n        })\n        // addMessage()\n      }\n      //clear up after upload\n      //clear file input value\n      setUploadingStatus(defaultUploadTips());\n      evt.target.value = \"\";\n      setIsUploading(false);\n\n      //hash of the old man and the sea\n      //0ad1d820761a5aca9df52c22ea1cfc4ca5dad64923f51270dbe8f106f3817eef\n    }\n  }\n\n  const libraryModalClose = (evt) => {\n    libraryModal.current.classList.remove(\"active\");\n  }\n  const libraryModalPopup = (evt) => {\n    libraryModal.current.classList.add(\"active\");\n  }\n  function onDocumentCardClick(evt) {\n    //stop event bubbling\n    evt.stopPropagation();\n    const fileHash = evt.currentTarget.getAttribute(\"filehash\");\n    setFileHash(fileHash);\n    libraryModalClose();\n  }\n  const onDocPageControlConfirm = (evt) => {\n    const page = evt.currentTarget.value;\n    const element = document.querySelector(`#anchor-page-number-${page}`);\n    if (element) element.scrollIntoView({ behavior: 'smooth' });\n\n    //for replace the value update from scolling\n    setTimeout(() => {\n      pageNumberInput.current.value = page;\n    }, 100);\n  }\n  /////////////////////////////////\n  return <div className='document-menu-bar'>\n    <div\n      className={`popover popover-bottom ${isUploading ? \"c-not-allowed\" : \"c-hand\"}`}\n      onClick={onUploadClick}\n    >\n      <span><i className=\"fa-solid fa-upload\"></i>{trans(\"Upload\", translation)}</span>\n      <input\n        ref={fileInput}\n        type=\"file\"\n        style={{ display: \"none\" }}\n        onChange={OnUploadInputChange}\n        accept=\".pdf\"\n      />\n      <div className='icon-place-holder'>{isUploading ? <div className=\"loading\"></div> : \"\"}</div>\n      {/*  */}\n      <div className=\"popover-container bg-dark\">\n        <div className=\"card bg-dark\">\n          <div className=\"card-body\">\n            {uploadingStatus.map((el, idx) => <div key={`document-menu-popover-card-${idx}`}>{el}</div>)}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className='popover popover-bottom'>\n      <span className='c-hand' onClick={libraryModalPopup}><i className=\"fa-solid fa-list\"></i>{trans(\"Library\", translation)}</span>\n      {/* // */}\n      <div ref={libraryModal} className=\"modal modal-lg\">\n        <span href=\"#close\" className=\"modal-overlay\" aria-label=\"Close\"></span>\n        <div className=\"modal-container\">\n          <div className=\"modal-header\"><span className=\"btn btn-clear float-right c-hand\" href=\"#modals-sizes\" aria-label=\"Close\" onClick={libraryModalClose}><i className=\"fa-solid fa-xmark close-button\"></i></span>\n            <div className=\"modal-title h3\">{trans(\"Library\", translation)}</div>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"content\">\n              {libraryData.map && libraryData.map(cardTemplete)}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            ...\n          </div>\n        </div>\n      </div>\n      <div className=\"popover-container bg-dark popover-container-for-recents\">\n        <div>{trans('Click again to open the Library.', translation)}</div>\n        <hr></hr>\n        <div>{trans('Recents', translation)}</div>\n        <div className='popover-subcontainer-for-recents'>\n          <div className='user-recents-documents-container'>\n            {recentsData.length === 0\n              ? <div>{trans('Your have no document.', translation)}</div>\n              : recentsData.map(cardTemplete)\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n    <div className='document-page-control tooltip tooltip-bottom' data-tooltip={trans('Edit this number and loses your mouse focus on the edit to go page.', translation)}>\n      <span>\n        <i className=\"fa-brands fa-golang fa-lg\"></i>\n        {trans('Page', translation)}:\n      </span>\n      <input\n        type='number'\n        min={1}\n        max={pagesCount}\n        onBlur={onDocPageControlConfirm}\n        defaultValue={1}\n        ref={pageNumberInput}\n      />\n    </div>\n  </div>\n}","// <!-- <script src=\"https://unpkg.com/pdfjs-dist@2/build/pdf.js\"></script>\n// <script src=\"https://unpkg.com/pdfjs-dist@2/build/pdf.worker.js\"></script> -->\n// const cdn_pdfjs_link = '//mozilla.github.io/pdf.js/build/pdf.js';\n// const cdn_pdfjs_worker_link = '//mozilla.github.io/pdf.js/build/pdf.worker.js';\n\n////hector build jun/01/2023 //////////////////////////\nasync function extractTextAndImageFromPDF(url){\n  let PDFJS = window['pdfjs-dist/build/pdf'];\n  if(PDFJS === undefined) await init();\n  PDFJS = window['pdfjs-dist/build/pdf'];\n  if(PDFJS === undefined) throw new Error(\"pdfjs not found\");\n  if(url.trim() === \"\") return false;\n  const pdf = await PDFJS.getDocument(url).promise;\n  const ret = [];\n  for (let p = 1; p <= pdf.numPages; p++) {\n    const page = await pdf.getPage(p);\n    ret.push(await parsePage(page));\n  }\n  return ret;\n  ////////////////////////////////////////////\n  async function parsePage(page){\n    const imgs = [];\n    const {fnArray, argsArray} = await page.getOperatorList();\n    argsArray.forEach(async (arg, i) => {\n      if(fnArray[i] === PDFJS.OPS.paintImageXObject) {\n        try {\n          let img = await page.objs.get(arg[0]);\n          imgs.push(img);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    });\n    const text = await page.getTextContent();\n    return {imgs, text};\n  }\n}\nasync function init(callback){\n  if(window['pdfjs-dist/build/pdf']){\n    if (callback) callback();\n    return;\n  } \n  const cdn_pdfjs_link = `${window.location.origin}/pdf.js`;\n  const cdn_pdfjs_worker_link = `${window.location.origin}/pdf.worker.js`;\n  const script = document.createElement('script');\n  script.src = cdn_pdfjs_link;\n  script.async = true;\n  script.onload = () => {\n    window['pdfjs-dist/build/pdf'].GlobalWorkerOptions.workerSrc = cdn_pdfjs_worker_link;\n    if (callback) callback();\n  };\n  document.body.appendChild(script);\n}\nexport {extractTextAndImageFromPDF, init};","import React from 'react';\nimport { useEffect, useState, useRef } from 'react';\nimport './document-display.css';\nimport { extractTextAndImageFromPDF, init } from '../pdf-wrapper_';\nimport fe_ from '../fetch_';\nimport { trans, throttle } from '../general_';\nimport { addMessage } from './message-footer';\nimport LoadingIcon from './loading-icon';\n////////////////////////////////////\n\nexport default function DocumentDisplay({ translation, isLogin, fileHash, setPagesCount, pageNumberInput }) {\n  const [isLoading, setIsLoading] = useState(false);\n  const render_container = useRef(null);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  ////////////////////////////////////\n  useEffect(() => {\n    if (fileHash !== undefined && render_container.current) {\n      setIsLoading(trans(\"Loading file\", translation));\n      const container = render_container.current;\n      //clear the container\n      while (container.firstChild) {\n        container.removeChild(container.firstChild);\n      }\n      init(() => {\n        processPdfHash(() => setIsLoading(false));\n      })\n\n    }\n    async function processPdfHash(callback) {\n      try {\n        const pdfContent = await extractTextAndImageFromPDF(fe_.pdfLinkPrefix + `/${fileHash}`);\n        setIsLoading(trans(\"Rendering page\", translation));\n        setTimeout(() => {\n          render_pdf_page(pdfContent);\n        }, 100);\n      } catch (error) {\n        console.error(error);\n        addMessage(trans(\"processing PDF\"), trans(error.message), \"error\");\n        setErrorMessage(trans(error.message, translation));\n      }\n\n      function render_pdf_page(pdf_content) {\n        let elements_list = [];\n        let pagesCount = 0;\n        pdf_content.forEach((el, idx) => {\n          pagesCount++;\n          const div = ce({ id: `anchor-page-number-${idx + 1}`, page_number: idx + 1 });\n          const p = ce({ tagName: \"p\", innerHTML: `page: ${idx + 1}`, class: \"page-separator\" })\n          div.append(p);\n          elements_list.push(div);\n          //rendering images\n          for (let img of el.imgs) {\n            let canvas = ce({ tagName: \"canvas\" });\n            div.append(canvas);\n            createImageBitmap(img.bitmap).then((ret) => {\n              canvas.width = ret.width;\n              canvas.height = ret.height;\n              canvas.getContext('2d').drawImage(ret, 0, 0);\n            })\n          }\n          //rendering text\n          var page_p = ce({ tagName: \"p\" });\n          for (let text of el['text']['items']) {\n            let span = ce({ tagName: \"span\", innerHTML: text.str + \" \" });\n            page_p.append(span);\n            if (text.hasEOL) {\n              if (/[^\\w\\s-]$/.test(text.str.trim())) {\n                div.append(page_p);\n                page_p = ce({ tagName: \"p\" });\n              }\n            }\n          }\n          div.append(page_p);\n\n        });\n        setPagesCount(pagesCount);\n        if (render_container.current.append) render_container.current.append(...elements_list);\n        callback();\n      }\n\n      //////helper//////////////////////\n      function ce(obj) {\n        let el = document.createElement(obj.tagName || \"div\");\n        for (let x in obj) switch (x) {\n          case \"tagName\": break;\n          case \"innerText\": case \"innerHTML\": el[x] = obj[x]; break;\n          default: el.setAttribute(x, obj[x]);\n        }\n        return el;\n      }\n    }\n  }, [fileHash, translation, setPagesCount]);\n  ////////////////////////////////////\n  function renderContainer() {\n    if (errorMessage !== \"\") {\n      return <div className='loging-icon-div'>\n        <h1 className='red'> {errorMessage} </h1>\n      </div>\n    } else if (isLoading) {\n      return <div className='loging-icon-div'>\n        <h1> {isLoading} <LoadingIcon /></h1>\n      </div>\n    }\n  }\n  const onDocumentScolling = throttle((evt) => {\n    let { x, y } = evt.target.getBoundingClientRect();\n    x /= 2;\n    y /= 2;\n    const target = getElementFromParentXY(evt.target, x, y);\n    const pageNum = findPageNumber(target);\n    if (pageNum) if (pageNumberInput.current) pageNumberInput.current.value = pageNum;\n    function getElementFromParentXY(parent, x, y) {\n      // Get the bounding rectangle of the parent\n      const rect = parent.getBoundingClientRect();\n\n      // Adjust x and y by the parent's coordinates to get viewport-relative coordinates\n      const adjustedX = rect.left + x;\n      const adjustedY = rect.top + y;\n\n      // Use elementFromPoint to get the element at the adjusted coordinates\n      return document.elementFromPoint(adjustedX, adjustedY);\n    }\n    function findPageNumber(element) {\n      for (let i = 0; i < 4; i++) {\n        try {\n          if (element.getAttribute !== undefined) {\n            let pageNum = element.getAttribute(\"page_number\");\n            if (pageNum) return pageNum;\n          }\n        } catch (error) {\n        }\n        element = element.parentNode;\n      }\n      return false;\n    }\n  }, 1000)\n  ////////////////////////////////////\n  return <div\n    className='document-display'\n    onScroll={onDocumentScolling}\n  >\n    {renderContainer()}\n    <div ref={render_container}>\n      <div><h3>{trans(\"no document on display yet.\", translation)}</h3></div>\n    </div>\n  </div>\n}","import './interaction-panel.css';\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { trans, createHashFromStr } from '../general_';\nimport LoadingIcon from './loading-icon';\nimport lc_ from '../stroage_';\nimport { addMessage } from './message-footer';\n///main compoment///////////////////////////////////////\nexport default function InteractionDisplay({ translation, isLogin, fileHash, historyPanel, isLoading, setIsLoading }) {\n  const [historyList, setHistoryList] = useState([]);\n  const inputBox = useRef(null);\n  ///////////////////////////////////////////////////////\n  useEffect(() => {\n\n    if (isLoading === false) {\n      //when res callback, the data from server were storaged in the local storage, getAllHistoryOrderByUnifyTime is reading from local stroage\n      const historyFromUpdatedLocalStorage = lc_.getAllHistoryOrderByUnifyTime(fileHash);\n      setHistoryList(historyFromUpdatedLocalStorage);\n    }\n  }, [isLoading, fileHash])\n  useEffect(() => {\n    setIsLoading(true);\n    //read all history about this hash\n    if (fileHash !== undefined) lc_.getAllHistoryFromFileHash(fileHash, (res) => {\n\n      setIsLoading(false);\n    })\n  }, [fileHash, setIsLoading]);\n\n  useEffect(() => {\n    //scroll to the bottom\n    const lastChildElement = historyPanel.current?.lastElementChild;\n    if (lastChildElement) lastChildElement.scrollIntoView({ behavior: 'smooth' });\n\n  }, [historyList, historyPanel])\n  ///////////////////////////////////////////////////////\n  const onHistoryShareButtonClick = (evt, jsonItem) => {\n    if (isLogin()) {\n      const currentTarget = evt.currentTarget;\n      jsonItem.is_share = !jsonItem.is_share;\n      jsonItem.fileHash = fileHash;\n      switch (jsonItem.type) {\n        case \"textToComprehension\":\n          lc_.userToggleReadingComprehensionShare(jsonItem, (res) => {\n            if (res.data) {\n              currentTarget.classList.toggle('active');\n            }\n          });\n          break;\n        case \"textToExplanation\":\n          lc_.userToggleTextToExplainationShare(jsonItem, (res) => {\n            if (res.data) {\n              currentTarget.classList.toggle('active');\n            }\n          })\n          break;\n        default:\n      }\n    }\n  }\n  const onSendButtonClick = (evt) => {\n    if (isLoading) return;\n    setIsLoading(true);\n    try {\n      let q = inputBox.current.value.trim();\n      if (fileHash === undefined) return;\n      lc_.questionToReadingComprehension(fileHash, q, \"2\", (res) => {\n        //if failed\n        if (res.error) addMessage(\n          trans(\"Reading comperhension\", translation),\n          trans(res.error, translation),\n          \"error\"\n        )\n        //if successed\n        if (res.data) {\n          inputBox.current.value = \"\";\n        }\n        setIsLoading(false);\n      });\n    } catch (error) {\n      console.error(error);\n      setIsLoading(false);\n    }\n  }\n  ///////////////////////////////////////////////////////\n  const renderHistoryCard = (el, idx) => {\n    ////////////////\n    function returnTypeIcon(type) {\n      switch (type) {\n        case \"textToComprehension\":\n          return <div className='tooltip tooltip-left' data-tooltip={trans(`reading comprehension.`, translation)}>\n            <i className=\"fa-brands fa-readme\"></i>\n          </div>\n        case \"textToExplanation\":\n          return <div className='tooltip tooltip-left' data-tooltip={trans(`text to explaination.`, translation)}>\n            <i className=\"fa-solid fa-quote-left\"></i>\n          </div>\n        default: return <></>\n      }\n    }\n    /////////////////////////////////////////////////////\n    return <div\n      key={\"history-card-div-\" + idx}\n      className={`history-card-div ${el.type}`}\n    >\n      {/* because question may have some space, and space can not be id, so hash it use for id */}\n      <div\n        className='question'\n        id={`reading-comprehension-question-id-${createHashFromStr(`${el.q}-${el.level}`)}`}\n      >\n        <div>{trans(\"question\", translation)}:\n          <div className='function-panel'>\n            {returnTypeIcon(el.type)}\n            <div\n              className={`tooltip tooltip-left c-hand ${el.is_share && \"active\"}`}\n\n              data-tooltip={`switch me on to share answer to others.`}\n              onClick={(evt) => { onHistoryShareButtonClick(evt, el) }}\n            >\n              <i className=\"fa-solid fa-comment \" ></i>\n            </div>\n            <div className='popover popover-bottom'>\n              <i className=\"fa-solid fa-circle-info c-hand\"></i>\n              <div className=\"popover-container bg-dark\">\n                <div className=\"card bg-dark\">\n                  <div className=\"card-body\">\n                    <div>{trans(\"nerd data\", translation)}</div>\n                    <div>{trans(\"timestamp\", translation)}: {new Date(el.timestamp).toLocaleTimeString()}</div>\n                    <div>{trans(\"Token usage\", translation)}: {el.usage}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <span>{el.q}</span>\n\n      </div>\n      <div className='anwser'>\n        <span>{trans(\"answer\", translation)}: </span>\n        <span>{el.anwser}</span>\n      </div>\n    </div>\n  }\n\n  return <div className='interaction-Display'>\n    <div ref={historyPanel} className='history-panel'>\n      {historyList.length === 0\n        ? <div><h3>{trans(\"no question history yet.\", translation)}</h3></div>\n        : historyList.map(renderHistoryCard)\n      }\n    </div>\n    <div className='input-panel'>\n      <div>\n        <textarea\n          readOnly={isLoading}\n          ref={inputBox}\n          className=''\n        ></textarea>\n        <button onClick={onSendButtonClick}>{isLoading ? <LoadingIcon /> : trans(\"Send\", translation)}</button>\n      </div>\n    </div>\n  </div>\n}","import './interactionMenuBar.css';\nimport React, { useEffect, useState } from \"react\";\n// import {MessageFooter, addMessage} from '../components/message-footer';\nimport {trans, createHashFromStr} from '../general_';\nimport lc_ from '../stroage_';\nexport default function InteractionMenuBar({translation, isLogin, fileHash, historyPanel}){\n  const [questionsHistory, setQuestionHistory] = useState([]);\n  ////////////////////////////////////////////\n  useEffect(() => {\n    const history = lc_.getAllHistoryOrderByUnifyTime(fileHash);\n    setQuestionHistory(history);\n  }, [fileHash])\n  ////////////////////////////////////////////\n  const onQuestionCardClick = (questionJson) => {\n    //because question may have some space, and space can not be id, so hash it use for id\n    const questionId = `reading-comprehension-question-id-` + createHashFromStr(`${questionJson.q}-${questionJson.level}`);\n    const targetQuestion = historyPanel.current.querySelector(`#${questionId}`);\n    targetQuestion.scrollIntoView({ behavior: 'smooth' });\n  }\n  ////////////////////////////////////////////\n  return <div className='interaction-menu-bar'>\n    <div className={`popover popover-bottom c-hand`} >\n      <span>\n      <i className = \"fa-solid fa-list\"></i>\n      {trans(\"Questions history\", translation)}\n      </span>\n          \n      <div className=\"popover-container bg-dark popover-container-for-questions-history\">\n        {questionsHistory.length === 0 \n        ? <div>{trans(\"Your have no question history yet.\", translation)}</div>\n        :questionsHistory.map((el, idx) => <div \n          className = 'question-history-card' \n          key = {`question-history-card-id-${idx}`}\n          onClick = {() => onQuestionCardClick(el)}\n        >\n          <div><span>{trans(\"Q\", translation)}: </span>{el.q}</div>\n        </div>)}\n      </div>\n    </div>\n  </div>\n}","import './reading-page.css';\nimport React, { useState, useRef } from \"react\";\nimport {addMessage} from '../components/message-footer';\nimport {trans, change_setFileHash} from '../general_';\nimport DocumentMenuBar from '../components/document-menu-bar';\nimport DocumentDisplay from '../components/document-display';\nimport { useParams } from 'react-router-dom';\nimport InteractionDisplay from '../components/interaction-panel';\nimport InteractionMenuBar from '../components/interactionMenuBar';\nimport lc_ from '../stroage_';\n/////////////////////////////////////\nexport default function ReadingPage({translation, isLogin, language}){\n  //filehash is from url just use it one time, fileHash is for react component Internal use and across pages\n  const {filehash} = useParams();\n  const [fileHash, setFileHash] = useState(filehash);\n  const [pagesCount, setPagesCount] = useState(999);\n  const [selectedText, setSelectedText] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const historyPanel = useRef(null);\n  const textSelectionPopupDiv = useRef(null);\n  const pageNumberInput = useRef(null);\n  //send globe setfilehash available\n  change_setFileHash(setFileHash);\n  \n  /////////////////////////////////////\n  const onExplainButtonClick = (evt) => {\n    textSelectionPopupDiv.current.classList.add('is-not-visable-h');\n    if(isLoading) return;\n    setIsLoading(true);\n    try {\n      let q = selectedText.trim();\n      if(fileHash === undefined) return;\n      lc_.textToExplanation(fileHash, q, language.currentLanguage.replace(\".json\", \"\"), (res) => {\n        //\n        if(res.error) addMessage(\n          trans(\"Text to explaination\", translation),\n          trans(res.error, translation),\n          \"error\"\n        );\n        if(res.data){\n          setSelectedText(\"\");\n        }\n        setIsLoading(false);\n      })\n    } catch (error) {\n      console.error(error);\n      setIsLoading(false);\n    }\n  }\n  const onMouseUp = (evt) => {\n    //if cursor selected some text and page not loading\n    if(window.getSelection() && !isLoading){\n      const pDiv = textSelectionPopupDiv.current;\n      //clear Previous style\n      pDiv.style = {};\n      let str = window.getSelection().toString().trim();\n      //if new selected text === old selected text exit\n      if(str === selectedText){\n        pDiv.classList.add('is-not-visable-h');\n        return;\n      } \n      //if str is loog than 1000 and less than 4, cancel the action\n      if(str.length < 1000 && str.length > 3){\n        setSelectedText(str);\n        //calculate the cursor position\n        const cursorH = window.innerWidth / 2 - evt.clientX >= 0 ?\"onLeft\" : \"onRight\";\n        const cursorV = window.innerHeight / 2 - evt.clientY >= 0 ? \"onTop\": \"onBottom\";\n        //setting div's position and button's location\n        if(cursorH === 'onLeft'){\n          pDiv.style.left = `${evt.clientX}px`;\n        }else{\n          pDiv.style.right = `${window.innerWidth - evt.clientX}px`;\n          pDiv.style.alignItems = 'end';\n        }\n        if(cursorV === 'onTop'){\n          pDiv.style.top = `${evt.clientY}px`;\n          pDiv.style.flexDirection = 'column-reverse';\n        }else{\n          pDiv.style.bottom = `${window.innerHeight - evt.clientY}px`;\n        }\n        //make it visable\n        pDiv.classList.remove('is-not-visable-h');\n      }else {\n        pDiv.classList.add('is-not-visable-h');\n      }\n    }\n  }\n  /////////////////////////////////////\n  return(\n    <div className=\"reading-page-div-h\">\n      <div className='reading-header-gap'>\n        <div></div>\n        <DocumentMenuBar \n          translation = {translation} \n          isLogin = {isLogin} \n          pagesCount = {pagesCount}\n          pageNumberInput = {pageNumberInput}\n        />\n        <div></div>\n        <InteractionMenuBar\n          translation = {translation} \n          isLogin = {isLogin}  \n          fileHash = {fileHash}\n          historyPanel = {historyPanel}\n        />\n        <div></div>\n      </div>\n      <div \n        className = 'reading-central-panel' \n        onMouseUp = {onMouseUp}\n      >\n        <div></div>\n        <div className=''>\n          <DocumentDisplay \n            translation = {translation} \n            isLogin = {isLogin} \n            fileHash = {fileHash}\n            setPagesCount = {setPagesCount}\n            pageNumberInput = {pageNumberInput}\n\n          />\n        </div>\n        <div className='reading-page-central-gap'></div>\n        <div className='interaction-panel'>\n          <InteractionDisplay \n            translation = {translation} \n            isLogin = {isLogin} \n            fileHash = {fileHash}\n            historyPanel = {historyPanel}\n            setIsLoading = {setIsLoading}\n            isLoading = {isLoading}\n          />\n        </div>\n        <div></div>\n      </div>\n      {/* <div className='reading-footer-gap'><span>{trans(\"Under construction\", translation)}</span></div> */}\n      <div \n        className = 'is-not-visable-h popup-div-for-selected-text'\n        ref = {textSelectionPopupDiv}\n      >\n        <div className='selected-text-display'><p>{selectedText}</p></div>\n        <div className='selected-text-function-panel'>\n          <button \n            className = 'btn-theme-border'\n            onClick = {onExplainButtonClick}\n          >\n            {trans('Elaborate on this', translation)}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithPopup, signInWithRedirect, GoogleAuthProvider, OAuthProvider } from 'firebase/auth';\nimport fe_ from '../fetch_';\nimport { addMessage } from './message-footer';\nimport { trans } from \"../general_\";\n// Your web app's Firebase configuration\nconst FIREBASE_API = process.env.REACT_APP_FIREBASE_API_KEY;\nconsole.log(FIREBASE_API)\nconst firebaseConfig = {\n  apiKey: FIREBASE_API,\n  authDomain: \"virtual-dogfish-305504.firebaseapp.com\",\n  projectId: \"virtual-dogfish-305504\",\n  storageBucket: \"virtual-dogfish-305504.appspot.com\",\n  messagingSenderId: \"599627267696\",\n  appId: \"1:599627267696:web:6d9b1b039a8092b9c43eb5\"\n};\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth();\nconst authByGoogle = (callback) => {\n  // \n  const provider = new GoogleAuthProvider();\n  signInWithPopup(auth, provider).then((result) => {\n    // \n    var user = result.user;\n    const { accessToken, uid, displayName, email } = user;\n    fe_.userLoginWithThirdParty(accessToken, (res) => {\n      callback(res);\n    })\n  }).catch(function (error) {\n    // \n    addMessage(trans(\"Sign in with Google\"), error.message, \"error\");\n    console.error(error);\n  });\n}\nconst authByMicrosoft = (callback) => {\n  const provider = new OAuthProvider('microsoft.com');\n  provider.setCustomParameters({\n    prompt: \"consent\",\n    tenant: \"consumers\",\n  });\n  // \n  signInWithPopup(auth, provider).then((result) => {\n    // \n    // var token = result.credential.accessToken;\n    var user = result.user;\n    const { accessToken, uid, displayName, email } = user;\n    fe_.userLoginWithThirdParty(accessToken, (res) => {\n      callback(res);\n    })\n  }).catch(function (error) {\n    // \n    addMessage(trans(\"Sign in with Microsoft\"), error.message, \"error\");\n    console.error(error);\n  });\n}\n\nconst authByApple = () => {\n  const provider = new OAuthProvider('apple.com');\n  // \n  signInWithPopup(auth, provider).then((result) => {\n    // \n    // var token = result.credential.accessToken;\n    var user = result.user;\n    const { accessToken, uid, displayName, email } = user;\n\n  }).catch(function (error) {\n    // \n    console.error(error);\n  });\n}\n\nexport default {\n  authByGoogle, authByMicrosoft, authByApple\n}","import React, { useEffect, useRef, useState } from \"react\";\nimport './login-panel.css';\nimport { createElement, trans, createPasswordHash, loadingIcon } from '../general_';\nimport fe_ from '../fetch_';\nimport lc_ from '../stroage_';\nimport fb_auth from './auth';\n///////////////////////////////////////\nexport default function Login({ sign_modal, loginAvailable, loginRegex, translation, addMessage, userInfo, setUserInfo }) {\n  //define useref\n  let [sign_up, sign_in, signUpIdInput, signUpPasswordInput1, signUpPasswordInput2, signInIdInput, signInPasswordInput, sign_in_tab_button] = [useRef(null), useRef(null), useRef(null), useRef(null), useRef(null), useRef(null), useRef(null), useRef(null)];\n  //\n  let [userIdRegex, setUserIDRegex] = useState([]);\n  let [passwordRegex, setPasswordRegex] = useState([]);\n  let [checkUserIdLoading, setCheckUserIdLoading] = useState(false);\n  let [signInLoading, setSignInLoading] = useState(false);\n  useEffect(() => {\n    setUserIDRegex(loginRegex.userIdRegex);\n    setPasswordRegex(loginRegex.passwordRegex);\n  }, [loginRegex]);\n  /////////////////////////////////////////////\n  const on_sign_modal_close_click = (evt) => {\n    sign_modal.current.classList.remove(\"active\");\n  }\n  const on_sign_modal_tab_click = (evt) => {\n    const type = evt.currentTarget.getAttribute(\"type\");\n    //switching tabs\n    if (type === \"sign-up\") {\n      sign_up.current.classList.remove(\"is-not-visable-h\");\n      sign_in.current.classList.add(\"is-not-visable-h\");\n    } else {\n      sign_up.current.classList.add(\"is-not-visable-h\");\n      sign_in.current.classList.remove(\"is-not-visable-h\");\n    }\n    evt.currentTarget.parentNode.childNodes.forEach(el => {\n      el.classList.remove(\"active\");\n    });\n    evt.currentTarget.classList.add(\"active\");\n  }\n  const sign_up_form_submit = (evt) => {\n    evt.preventDefault();\n    const form = { userId: signUpIdInput.current.value };\n    const hintDiv = evt.currentTarget.querySelector('.password-hint-div');\n    // verification of input value\n    if (signUpPasswordInput1.current.value !== signUpPasswordInput2.current.value) {\n\n      hintDiv.replaceChildren(createElement({ tagname_: \"p\", innerText: `- ${trans(\"Two password should be same.\", translation)}`, class: \"form-input-hint\" }));\n      return false;\n    } else form['password'] = signUpPasswordInput1.current.value;\n\n    if (new RegExp(userIdRegex.regex).test(form.userId) === false) {\n      console.log(trans(\"sign in user id regex test failed.\", translation));\n      return;\n    };\n    if (new RegExp(passwordRegex.regex).test(form.password) === false) {\n      console.log(trans(\"sign in password regex test failed.\", translation));\n      return;\n    };\n    //init register\n    fe_.UserRegister(form, (res) => {\n      if (res.userId) { //if successed\n        addMessage(\n          trans(\"Successfully registered\"),\n          trans(\"This message will automatically close.\"),\n          \"success\"\n        );\n        sign_in_tab_button.current.click();\n        //clean up input value\n        signUpIdInput.current.value = \"\";\n        signUpPasswordInput1.current.value = \"\";\n        signUpPasswordInput2.current.value = \"\";\n      } else { // if failed\n        hintDiv.replaceChildren(createElement({ tagname_: \"p\", innerText: `- ${trans(\"Register failed, contact Admin.\", translation)}`, class: \"form-input-hint\" }));\n      }\n    })\n  }\n  const sign_in_form_submit = (evt) => {\n    evt.preventDefault();\n    setSignInLoading(true);\n    const hintDiv = evt.target.querySelector('.sign-result-div');\n    hintDiv.replaceChildren(createElement({ tagname_: \"p\", class: \"form-input-hint\" }))\n    lc_.UserLogin({\n      userId: signInIdInput.current.value,\n      password: createPasswordHash(signInPasswordInput.current.value),\n    }, (res) => {\n      if (res.error) {\n        //failed\n        setTimeout(() => {\n          hintDiv.replaceChildren(createElement({ tagname_: \"p\", innerText: `- ${trans(\"User ID or password not matched.\", translation)}`, class: \"form-input-hint\" }));\n          setSignInLoading(false);\n        }, 300);\n      } else {\n        //successed\n        setUserInfo(res.data);\n        on_sign_modal_close_click();\n        addMessage(trans(\"Successed login.\", translation), \"\", \"success\");\n        hintDiv.replaceChildren();\n        signInPasswordInput.current.value = \"\";\n        signInIdInput.current.value = \"\";\n      }\n    })\n  }\n  const userId_input_change = (evt) => {\n    const hintDiv = evt.target.form.querySelector('.userId-hint-div');\n    hintDiv.replaceChildren(...test_userId(evt.currentTarget.value));\n    function test_userId(value) {\n      //in this case are differently others it return dom element instead of string\n      setCheckUserIdLoading(true);\n      const ret = [];\n      const check_userID_p = createElement({ tagname_: \"p\", class: \"form-input-hint\", });\n      ret.push(check_userID_p);\n      // check UserID\n      fe_.checkUserID(value, (response) => {\n        if (response['result'] !== true) {\n          check_userID_p.innerText = `- userId: ${value} is taken.`;\n        } else {\n          setTimeout(() => {\n            hintDiv.removeChild(check_userID_p);\n            setCheckUserIdLoading(false);\n          }, 300);\n        }\n      });\n      //check regex\n      userIdRegex.forHint.forEach(el => {\n        const regex = new RegExp(el[0]);\n        if (regex.test(value) === false) {\n          ret.push(createElement({ tagname_: \"p\", innerText: `- ${trans(el[1], translation)}`, class: \"form-input-hint\" }));\n        }\n      })\n      return ret;\n    }\n  }\n  const password_input_change = (evt) => {\n    //get hint div\n    const hintDiv = evt.target.form.querySelector('.password-hint-div');\n    //get password input\n    const allPasswordInput = evt.target.form.querySelectorAll('input[type=password]');\n    //testing value\n    const newChilds = test_value(evt.currentTarget.value).map(el => createElement({ tagname_: \"p\", innerText: el, class: \"form-input-hint\" }));\n    //replace new hint\n    hintDiv.replaceChildren(...newChilds);\n    ///////////////////////////////////////\n    function test_value(value) {\n      const ret = [];\n      if (allPasswordInput.length === 2) if (allPasswordInput[0].value !== allPasswordInput[1].value) {\n        ret.push(`- ${trans(\"Two password should be same.\", translation)}`);\n      }\n      passwordRegex.forHint.forEach(el => {\n        const regex = new RegExp(el[0]);\n        if (regex.test(value) === false) {\n          ret.push(`- ${trans(el[1], translation)}`);\n        }\n      })\n      return ret;\n    }\n  }\n  const onThirdPartyLoginClick = (evt, type = \"google\") => {\n    ////////\n    switch (type) {\n      case \"microsoft\": fb_auth.authByMicrosoft(res => {\n        if (res.error) {\n          //failed\n          addMessage(trans(\"Sign in with Microsoft\", translation), trans(res.error, translation), \"error\");\n        } else {\n          //successed\n          setUserInfo(res.data);\n          addMessage(trans(\"Sign in with Microsoft\", translation), trans(\"Successed login.\", translation), \"success\");\n        }\n        on_sign_modal_close_click();\n        setSignInLoading(false);\n      })\n        //\n\n        break;\n      default: fb_auth.authByGoogle(res => {\n        if (res.error) {\n          //failed\n          addMessage(trans(res.error, translation), \"\", \"error\");\n        } else {\n          //successed\n          setUserInfo(res.data);\n          addMessage(trans(\"Successed login.\", translation), \"\", \"success\");\n        }\n        on_sign_modal_close_click();\n        setSignInLoading(false);\n      })\n    }\n\n  }\n  /////////////////////////////////////////////////\n  return <>\n    <div ref={sign_modal} className=\"modal\" >\n      <span href=\"#close\" className=\"modal-overlay\" aria-label=\"Close\"></span>\n      <div className=\"modal-container\">\n        <div className=\"modal-header\">\n          <span href=\"#close\" className=\"btn btn-clear float-right c-hand\" aria-label=\"Close\" onClick={on_sign_modal_close_click}><i className=\"fa-solid fa-xmark close-button\"></i></span>\n          <div className=\"modal-title h5 text-left\">Binary Mind - {trans(\"Sign Up/ In\", translation)}</div>\n        </div>\n\n        <div className=\"modal-body\">\n          <div className=\"content modal-content-h\">\n            {loginAvailable ?\n              <>\n                <ul className=\"tab tab-block tab-h\">\n                  <li className=\"tab-item\" onClick={on_sign_modal_tab_click} type=\"sign-up\">\n                    <span >{trans(\"Sign Up\", translation)}</span>\n                  </li>\n                  <li ref={sign_in_tab_button} className=\"tab-item active\" onClick={on_sign_modal_tab_click} type=\"sign-in\">\n                    <span >{trans(\"Sign In\", translation)}</span>\n                  </li>\n                </ul>\n                <div className=\"columns is-not-visable-h\" ref={sign_up}>\n                  <div className=\"column col-12 col-sm-12\">\n                    <form className=\"form-horizontal\" action=\"#forms\" onSubmit={sign_up_form_submit}>\n                      <div className=\"form-group\">\n                        <div className=\"col-3 flex justify-between\">\n                          <label className=\"form-label form-label-h\" >{trans(\"User Id\", translation)}</label>\n                          {checkUserIdLoading && loadingIcon()}\n                        </div>\n                        <div className=\"col-9\">\n                          <input ref={signUpIdInput} className=\"form-input\" type=\"text\" placeholder={trans(\"User Id\", translation)} onBlur={userId_input_change} name=\"userId\" />\n                        </div>\n                      </div>\n\n                      <div className=\"form-group has-error userId-hint-div\">\n                      </div>\n\n                      <div className=\"form-group\">\n                        <div className=\"col-3\">\n                          <label className=\"form-label form-label-h\" >{trans(\"Enter password\", translation)}</label>\n                        </div>\n                        <div className=\"col-9\">\n                          <input className=\"form-input\" type=\"password\" ref={signUpPasswordInput1} placeholder={trans(\"Password\", translation)} onBlur={password_input_change} name=\"password\" />\n                        </div>\n                      </div>\n                      <div className=\"form-group\">\n                        <div className=\"col-3\">\n                          <label className=\"form-label form-label-h\" >{trans(\"re-Enter password\", translation)}</label>\n                        </div>\n                        <div className=\"col-9\">\n                          <input className=\"form-input\"\n                            type=\"password\" ref={signUpPasswordInput2} placeholder={trans(\"re-Enter password\", translation)} onBlur={password_input_change} name=\"password\" />\n                        </div>\n                      </div>\n                      <div className=\"form-group password-hint-div has-error\">\n                      </div>\n                      <div className=\"form-group login-modal-justify-right\">\n                        <button className=\"btn btn-style-h\"> {trans(\"Sign Up\", translation)} </button>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n\n                <div className=\"columns\" ref={sign_in}>\n                  <div className=\"column col-12 col-sm-12\">\n                    <form className=\"form-horizontal\" action=\"#forms\" onSubmit={sign_in_form_submit}>\n                      <div className=\"form-group\">\n                        <div className=\"col-3 flex justify-between\">\n                          <label className=\"form-label form-label-h\" >{trans(\"User Id\", translation)}</label>\n                          {signInLoading && loadingIcon()}\n                        </div>\n                        <div className=\"col-9\">\n                          <input className=\"form-input\" ref={signInIdInput} type=\"text\" placeholder={trans(\"User Id\", translation)} />\n                        </div>\n                      </div>\n\n                      <div className=\"form-group\">\n                        <div className=\"col-3\">\n                          <label className=\"form-label form-label-h\" >{trans(\"Enter password\", translation)}</label>\n                        </div>\n                        <div className=\"col-9\">\n                          <input className=\"form-input\" type=\"password\" ref={signInPasswordInput} placeholder={trans(\"Password\", translation)} />\n                        </div>\n                      </div>\n                      <div className=\"form-group sign-result-div has-error\">\n                      </div>\n                      <div className=\"form-group login-modal-justify-right\">\n                        <button className=\"btn btn-style-h\"> {trans(\"Login\", translation)} </button>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </>\n              : trans(\"Login currently not available.\", translation)\n            }\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          {loginAvailable &&\n            <div style={{ display: \"flex\", margin: \"10px\", gap: \"10px\", justifyContent: \"space-evenly\" }}>\n              <button\n                className=\"c-hand\"\n                onClick={evt => { onThirdPartyLoginClick(evt, \"google\") }}\n              >{trans(\"Sign in with Google\", translation)} <i className=\"fa-brands fa-google\"></i></button>\n              <button\n                className=\"c-hand\"\n                onClick={evt => { onThirdPartyLoginClick(evt, \"microsoft\") }}\n              >{trans(\"Sign in with Microsoft\", translation)} <i className=\"fa-brands fa-microsoft\"></i></button>\n              <button\n                className=\"c-hand\"\n                disabled\n              >{trans(\"Sign in with Apple\", translation)} <i className=\"fa-brands fa-apple\"></i></button>\n            </div>\n          }\n        </div>\n      </div>\n    </div>\n  </>\n}","import React from \"react\";\nimport './user-profile-dropdown.css';\nimport {trans} from '../general_';\n\nexport default function UserProfileContent({translation, userInfo, setUserInfo, addMessage, on_user_logout_click}){\n  return (\n    \n      <ul className=\"menu profile-menu\"><form>\n        <li className=\"divider text-left\" data-content={trans(\"Profile\", translation)}></li>\n        <li className=\"menu-item\">\n            <div className=\"tile tile-centered\">\n              <div className=\"tile-icon\"><img className=\"avatar\" src=\"../img/avatar-4.png\" alt=\"Avatar\"/></div>\n              <div className=\"tile-content text-right\">{userInfo.username}</div>\n            </div>\n        </li>\n        <li className=\"menu-item\">\n            <div className=\"tile tile-centered\" onClick={on_user_logout_click}>\n              <div className=\"tile-content text-right\">{trans(\"Logout\", translation)}</div>\n              <div className=\"tile-action\">\n              <i className=\"icon icon-arrow-left\"></i>\n              </div>\n            </div>\n        </li>\n\n      </form></ul>\n  )\n}","import React, { useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport './navbar.css';\nimport Login from \"./login-panel\";\nimport UserProfileContent from \"./user-profile-dropdown\";\nimport fe_ from '../fetch_';\nimport lc_ from '../stroage_';\nimport {trans} from '../general_';\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function NavBar({language, setLanguage, translation, setTranslation, addMessage, userInfo, setUserInfo, isLogin, signInUpButton}) {\n  const [sign_modal] = [useRef(null)];\n  const [loginAvailable, SetLoginAvailable] = useState(false);\n  const [loginRegex, SetLoginRegex] = useState({});\n  const navigation = useNavigate();\n\n  ///////////////////////////////////////////\n  const on_sign_modal_show_click = (evt) => {\n    sign_modal.current.classList.add(\"active\");\n    fe_.checkLoginFunction((ret => {\n      if(ret !== false) SetLoginRegex(ret);\n      SetLoginAvailable(ret !== false)\n    }))\n  }\n  const on_change_language = (evt) => {\n    const currentLanguage = evt.currentTarget.getAttribute(\"filename\");\n    fe_.getLanguageFile(currentLanguage, (res) => {\n      if(res){\n        setLanguage(pv => ({...pv, currentLanguage}));\n        setTranslation(res);\n      } \n    })\n  }\n\n  const on_user_logout_click = (evt) => {\n    lc_.UserLogout((res) => {\n      if(res.error){\n        addMessage(trans(\"Logout failed.\", translation),\"\", \"error\");\n      }else{\n        addMessage(trans(\"Successed logout.\", translation),\"\", \"success\");\n        setUserInfo({});\n        navigation('/');\n      }\n    })\n  }\n  //////////////////////////////////////////////\n  return (<>\n    <header className=\"navbar navbar-h\">\n      <section className=\"navbar-section\">\n        <Link className=\"navbar-logo\" to={\"/\"}>\n          <img src={`${window.location.origin}/logo.svg`} width=\"60\" height=\"45\" alt=\"Logo\" />\n          <span className=\"unselectable text-color\">Binary Mind</span>\n        </Link>\n\n        {/* <a href=\"...\" className=\"btn btn-link\">Docs</a>\n      <a href=\"...\" className=\"btn btn-link\">GitHub</a> */}\n      </section>\n      <section className=\"navbar-section navbar-section-s\">\n        {/* <div className=\"input-group input-inline\">\n        <input className=\"form-input\" type=\"text\" placeholder=\"search\"/>\n        <button className=\"btn btn-primary input-group-btn\">Search</button>\n      </div> */}\n        <div className=\"dropdown dropdown-right\">\n          <span className=\"btn btn-link dropdown-toggle c-hand\" tabIndex=\"0\">\n            Language <i className=\"fa-solid fa-caret-down\"></i>\n          </span>\n          <ul className=\"menu\">\n            <form>\n            {language.availableList.map(([key, val], idx)=>\n              <li className={`menu-item ${language.currentLanguage === val ? \"current_language\" :\"\"}`} filename={val} key={idx} onClick={on_change_language}>\n                <label className=\"form-radio\">\n                  <input type=\"radio\" name=\"language\" defaultChecked={language.currentLanguage === val} />\n                  <i className=\"form-icon\"></i> {key}\n                </label>\n              </li>\n            )}\n            </form>\n          </ul>\n        </div>\n        {/* <Link to={\"/about\"} className=\"btn btn-link text-color nav-link-h c-hand\">{trans(\"About\", translation)}</Link> */}\n        {isLogin()?\n          <div className=\"dropdown dropdown-right\">\n          <span href=\"#\" className=\"btn btn-link dropdown-toggle c-hand\" tabIndex=\"0\">\n          {trans(\"Me\", translation)} <i className=\"fa-solid fa-caret-down\"></i>\n          </span>\n          <UserProfileContent\n            translation = {translation}\n            userInfo = {userInfo}\n            setUserInfo = {setUserInfo}\n            addMessage = {addMessage}\n            on_user_logout_click = {on_user_logout_click}\n          />\n        </div>\n        :\n          <Link ref={signInUpButton} className=\"btn btn-link text-color nav-link-h c-hand\" onClick={on_sign_modal_show_click}>{trans(\"Sign Up/ In\", translation)}</Link>\n        }\n      </section>\n    </header>\n    {isLogin()? \"\"\n      :<Login \n        sign_modal = {sign_modal} \n        loginAvailable = {loginAvailable} \n        loginRegex = {loginRegex} \n        translation = {translation}\n        addMessage = {addMessage}\n        userInfo = {userInfo}\n        setUserInfo = {setUserInfo}\n      />\n    }\n  </>\n  )\n}","import './mobile-landing-page.css';\nimport React from \"react\";\n\nexport default function MobileLandingPage(){\n  return <div className='mobile-landing-page'>\n    <div>\n      <div><h4>Please use this site with wide <br></br> screen setting(desktop computer, tablet)</h4><h4>Mobile version currently not available</h4></div>\n      <hr></hr>\n      <div><h4><br></br></h4><h4></h4></div>\n      <hr></hr>\n      <div className='guider'><span>Under construction</span></div>\n      <div></div>\n      <div><input type='text'/></div>\n      <div><p>Binary mind - 2023</p></div>\n    </div>\n    \n  </div>\n}","import './mobile-navbar.css';\nimport React, { useRef, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport Login from '../components/login-panel';\nimport fe_ from '../fetch_';\nimport '../components/absoluteMainContainer.css';\n///////////////////////////////////////////\nexport default function MobileNavbar({ language, setLanguage, translation, setTranslation, addMessage, userInfo, setUserInfo, isLogin }) {\n  const [sign_modal] = [useRef(null)];\n  const [loginAvailable, SetLoginAvailable] = useState(false);\n  const [loginRegex, SetLoginRegex] = useState({});\n  const userProfileContainer = useRef(null);\n  // const languageContainer = useRef(null);\n  // const linkContainer = useRef(null);\n  ///////////////////////////////////////////\n  const onSignModalShowClick = (evt) => {\n    sign_modal.current.classList.add(\"active\");\n    fe_.checkLoginFunction((ret => {\n      if (ret !== false) SetLoginRegex(ret);\n      SetLoginAvailable(ret !== false)\n    }))\n  }\n  const onUserProfileClick = (evt) => {\n    userProfileContainer.current.classList.add('animate');\n    userProfileContainer.current.classList.toggle('hide');\n  }\n  ///////////////////////////////////////////\n  return <header className='navbar mobile-navbar-h'>\n    <div className='nav-item'>\n      <Link className=\"navbar-logo\" to={\"/\"}>\n        <img src={`${window.location.origin}/logo.png`} alt=\"Logo\" />\n      </Link>\n    </div>\n    <div className='nav-item'><i className=\"fa-solid fa-link fa-xl\"></i></div>\n    <div className='nav-item'>\n      <div\n        className='absolute-main-container-trigger'\n      // ref = {userProfile}\n      >\n        <div >\n          <i className=\"fa-solid fa-language fa-xl\"></i>\n        </div>\n\n        {/* <AbsoluteMainContainer languageContainer={languageContainer} /> */}\n      </div>\n    </div>\n    <div className='nav-item'>\n\n      {isLogin()\n        ?\n        <>\n          <i className=\"fa-solid fa-user-secret fa-xl\" onClick={onSignModalShowClick}></i>\n          <Login\n            sign_modal={sign_modal}\n            loginAvailable={loginAvailable}\n            loginRegex={loginRegex}\n            translation={translation}\n            addMessage={addMessage}\n            userInfo={userInfo}\n            setUserInfo={setUserInfo}\n          />\n        </>\n        :\n        <div\n          className='absolute-main-container-trigger'\n        >\n          <div onClick={onUserProfileClick}>\n            <i className=\"fa-solid fa-user-plus fa-xl\"></i>\n          </div>\n          <div className=\"absolute-main-container\" ref={userProfileContainer}>\n            123\n\n            <button className=\"absolute-main-container-close-button\">\n              click me to close\n            </button>\n          </div>\n          {/* <AbsoluteMainContainer userProfileContainer={userProfileContainer} /> */}\n        </div>\n      }\n    </div>\n  </header>\n}","import './chatting-init-parameter-panel.scss';\nimport React, { useEffect, useRef, useState } from 'react';\nimport fetch_ from \"../fetch_\";\nimport { addMessage } from '../components/message-footer';\nimport { trans, createElement } from '../general_';\n////////////////////////////////////////\nlet gerneralIndex = 0;\nconst promptLetterLimit = 3000;\n////////////////////////////////////////\nexport default function ChattingInitParameterPanel({ translation, isLogin, initParameter }) {\n  const [modelList] = useState([\n    { index: \"01\", name: \"chatGPT 3.5 turbo 16k\" },\n    { index: \"02\", name: \"GPT 4.0 0613\" }\n  ]);\n  const [promptsList, setPromptsList] = useState([]);\n  const [modalPromptTextareaWordCount, setModalPromptTextareaWordCount] = useState(0);\n  const newPromptModal = useRef(null);\n  const modalTypeInput = useRef(null);\n  const modalTitleInput = useRef(null);\n  const modalTypeTextarea = useRef(null);\n  const initForm = useRef(null);\n  const formExtraField = useRef(null);\n  const modalPromptForm = useRef(null);\n  const modalPromptTextareaWarning = useRef(null);\n  const [searchInput, setSearchInput] = useState('');\n  let promptListToDisplay = promptsList;\n  // if searchInput is truthy (not empty string)\n  // reassign dataToDisplay with the filtered data\n  if (searchInput) {\n    // we only reach this code if the user has typed something\n    promptListToDisplay = promptsList.filter((prompt) => {\n      const { type, title } = prompt;\n      const searchingTarget = `${type} ${title}`.toLowerCase();\n      return searchingTarget.includes(searchInput.toLowerCase());\n    });\n  }\n  /////////////////////////////////////////////////\n  useEffect(() => {\n    fetch_.readPrompts((res) => {\n      if (res.error) {\n        //on error\n        console.error(res.error);\n      } else if (res.data) {\n        //on data\n        if (res.data.length > 0) setPromptsList(res.data);\n      }\n    })\n  }, [])\n  ////event handler/////////////////////////////////////\n  const onNewPromptModalToggle = () => {\n    newPromptModal.current.classList.toggle(\"active\");\n    modalTypeInput.current.focus();\n  }\n  const onSavePromptClick = () => {\n    let type = modalTypeInput.current.value;\n    let prompt = modalTypeTextarea.current.value;\n    let title = modalTitleInput.current.value;\n    let form = modalPromptForm.current.elements;\n    let linksList = [];\n    if (form['link-name']) {\n      linksList.push([\n        form['link-name'].value,\n        form['link-url'].value\n      ])\n    }\n    else if (form['link-name']?.length) {\n      for (let i = 0; i < form['link-name'].length; i++) {\n        if (form['link-name'][i].value.trim() === \"\") continue;\n        linksList.push([\n          form['link-name'][i].value,\n          form['link-url'][i].value\n        ]);\n      }\n    }\n    /////////////////////////////////////\n    if (prompt.trim().length < 5) {\n      modalPromptTextareaWarning.current.classList.remove(\"display-none\");\n      return;\n    };\n    fetch_.insertNewPrompt(type, title, prompt, linksList, (res) => {\n      //\n      if (res.error) {\n        addMessage(\n          trans(\"On save prompt\", translation),\n          trans(res.error, translation),\n          \"error\"\n        );\n        //on error\n      } else if (res.data) {\n        //on success\n        setPromptsList(pv => [res.data, ...pv]);\n        //needs to reflash the prompt card container\n        //close modal, clean up data\n        modalFormReset();\n        newPromptModal.current.classList.remove(\"active\");\n        clearinitParameterPrompt()\n      }\n    });\n  }\n  const onDeletePromptClick = (prompt_id) => {\n    fetch_.deletePrompt(prompt_id, (res) => {\n      if (res.error) {\n        //on error\n        addMessage(\n          trans(\"On delete prompt\", translation),\n          trans(res.error, translation),\n          \"error\"\n        );\n      } else if (res.data) {\n        //on data\n        setPromptsList(pv => pv.filter(el => el.id !== prompt_id));\n        clearinitParameterPrompt();\n      }\n    })\n  }\n  const onResetClick = (evt) => {\n    // console.log(initForm.current.prompt)\n  }\n  function clearinitParameterPrompt() {\n    initParameter.prompt = \"\";\n    initParameter.type = \"\";\n    initParameter.title = \"\";\n  }\n  const onPromptInputChange = ({ content, json, type, title }) => {\n    initParameter.prompt = content;\n    initParameter.links = json.links;\n    initParameter.type = type;\n    initParameter.title = title;\n  }\n  const onModalAddField = (type = \"link\") => {\n    const container = formExtraField.current;\n    if (container) {\n      container.append(returnFormGroup());\n    }\n    function returnFormGroup() {\n      return createElement({\n        class: 'input-group',\n        childs_: [\n          { tagname_: \"input\", class: \"form-input\", type: \"text\", placeholder: trans(\"This row would'nt save, when this is empty.\", translation), name: `${type}-name` },\n          { tagname_: \"input\", class: \"form-input\", type: \"url\", placeholder: trans(\"This row would'nt save, when this is empty.\", translation), name: `${type}-url` }\n        ]\n      })\n    }\n  }\n  /////////////////////////////////////////////////\n  function renderModelSelector(el, idx) {\n    const defaultCheck = idx === 0;\n    return <label\n      key={`model-selector-${gerneralIndex++}`}\n      className=\"form-radio form-inline c-hand\"\n      onClick={() => { initParameter.model = el.index }}\n    >\n      <input\n        type=\"radio\"\n        name=\"model\"\n        defaultChecked={defaultCheck}\n      />\n      <i className=\"form-icon\"></i> {el.name}\n    </label>\n  }\n\n  function renderCard({ id, type, title, content, json }) {\n    //create a regular prompt card\n    return <label\n      key={`prompt-card-${gerneralIndex++}`}\n      className='prompt-card'\n    >\n      <input\n        type=\"radio\"\n        name=\"prompt\"\n        onChange={() => { onPromptInputChange({ content, json, type, title }) }}\n      />\n      <div className='type-and-function-div'>\n        <div>\n          <span></span>\n          <span>{type}</span> - <span>{title}</span>\n        </div>\n        {id && <div onClick={() => onDeletePromptClick(id)}><i className=\"fa-solid fa-trash-can\"></i></div>}\n      </div>\n      <div className='prompt-card-prompt-content'>\n        <pre>{content}</pre>\n        {json?.links?.map(([el1, el2]) => <li key={`card-prompt-links-${gerneralIndex}`}>\n          <span>{el1}</span>: <sub>{el2}</sub>\n        </li>)}\n      </div>\n    </label>\n  }\n  function modalFormReset(evt) {\n    evt.preventDefault();\n    modalTypeInput.current.value = \"\";\n    modalTypeTextarea.current.value = \"\";\n    modalTitleInput.current.value = \"\";\n    formExtraField.current.innerHTML = \"\";\n    modalPromptTextareaWarning.current.classList.add(\"display-none\");\n  }\n  function modalFormCancel(evt) {\n    evt.preventDefault();\n    modalFormReset(evt);\n    onNewPromptModalToggle();\n  }\n  /////////////////////////////////////////////////\n  return <div className='chatting-init-parameter-panel'>\n    <div>\n      <div>\n        <div className=\"form-group\">\n          {modelList.map(renderModelSelector)}\n        </div>\n        <div className='form-group'>\n          <label className=\"form-radio form-inline \">{trans(\"Response Leaning to\", translation)}</label>\n          <label className=\"form-radio form-inline c-hand\">\n            <input\n              type=\"radio\"\n              name=\"temperature\"\n              onClick={() => { initParameter.temperature = 0 }}\n            />\n            <i className=\"form-icon\"></i> {trans(\"Factual\", translation)}\n          </label>\n          <label className=\"form-radio form-inline c-hand\">\n            <input\n              type=\"radio\"\n              name=\"temperature\"\n              onClick={() => { initParameter.temperature = 1 }}\n              defaultChecked\n            />\n            <i className=\"form-icon\"></i> {trans(\"Creative\", translation)}\n          </label>\n          <label className=\"form-radio form-inline c-hand\">\n            <input\n              type=\"radio\"\n              name=\"temperature\"\n              onClick={() => { initParameter.temperature = 2 }}\n            />\n            <i className=\"form-icon\"></i> {trans(\"Stoned\", translation)}\n          </label>\n        </div>\n      </div>\n    </div>\n    <div className='prompt-panel'>\n      <div className='prompt-function-div'>\n        <div\n          className='c-hand new-prompt-div'\n          onClick={onNewPromptModalToggle}\n        >\n          <span>{trans(\"Create new Prompt\", translation)}</span>\n          <i className=\"fa-solid fa-file-circle-plus\"></i>\n        </div>\n        <div className='filter-prompt-div'>\n          <label className='c-hand'>\n            <span>{trans(\"Filter\", translation)}</span>\n            <i className=\"fa-solid fa-filter\"></i>\n            <input\n              type='text'\n              onChange={(evt) => setSearchInput(evt.target.value)}\n              value={searchInput}\n            />\n          </label>\n        </div>\n        <div onClick={onResetClick}></div>\n      </div>\n      <form ref={initForm}>\n        <div className='prompt-container'>\n          {promptListToDisplay.map(renderCard)}\n        </div>\n      </form>\n    </div>\n\n    <div ref={newPromptModal} className=\"modal modal-lg\">\n      <span onClick={onNewPromptModalToggle} className=\"modal-overlay\" aria-label=\"Close\"></span>\n      <div className=\"modal-container\">\n        <div className=\"modal-header\">\n          <span className=\"btn btn-clear float-right c-hand\" aria-label=\"Close\" onClick={onNewPromptModalToggle}><i className=\"fa-solid fa-xmark close-button\"></i></span>\n          <div className=\"modal-title h5\">{trans(\"New Prompt\", translation)}</div>\n        </div>\n        <div className=\"modal-body\">\n          <form className=\"content\" ref={modalPromptForm}>\n            <div className=\"form-group\">\n              <label className=\"form-label\">\n                <span>{trans(\"Type\", translation)}</span>\n                <input\n                  ref={modalTypeInput}\n                  className=\"form-input\"\n                  type=\"text\"\n                  placeholder={trans(\"Type\", translation)}\n                  maxLength={100}\n                />\n              </label>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"form-label\">\n                <span>{trans(\"Title\", translation)}</span>\n                <input\n                  ref={modalTitleInput}\n                  className=\"form-input\"\n                  type=\"text\"\n                  placeholder={trans(\"Title\", translation)}\n                  maxLength={100}\n                />\n              </label>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"form-label\" >\n                <span>{trans(\"Prompt\", translation)}</span>\n                <textarea\n                  ref={modalTypeTextarea}\n                  className=\"form-input\"\n                  placeholder={trans(\"Prompt\", translation)}\n                  onChange={(e) => { setModalPromptTextareaWordCount(e.target.value.length) }}\n                  maxLength={promptLetterLimit}\n                >\n                </textarea>\n                <span className='floating-work-counter'><span>{modalPromptTextareaWordCount}</span>/{promptLetterLimit}</span>\n              </label>\n            </div>\n            <div className='form-group'>\n              {/* disable the link button */}\n              <button disabled onClick={(e) => {\n                e.preventDefault();\n                onModalAddField();\n              }} style={{ textDecoration: \"line-through\" }}>{trans(\"Add link\", translation)}</button>\n            </div>\n            <div ref={formExtraField}>\n\n            </div>\n            <div>\n              <p\n                ref={modalPromptTextareaWarning}\n                className='red display-none'\n              >prompt letter count must between 5 - 3000</p>\n            </div>\n          </form>\n\n        </div>\n        <div className=\"modal-footer\">\n          <div className='button-group'>\n            <button\n              className='btn btn-theme-border'\n              onClick={modalFormReset}\n            >{trans(\"Reset\", translation)}</button>\n            <button\n              className='btn btn-theme-border'\n              onClick={modalFormCancel}\n            >{trans(\"Cancel\", translation)}</button>\n            <button\n              className='btn btn-theme-border'\n              onClick={(e) => {\n                e.preventDefault();\n                onSavePromptClick();\n                onNewPromptModalToggle();\n              }}\n            >{trans(\"Save\", translation)}</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n}","import './chatting-history-interaction-panel.scss'\nimport React, { useState, useRef, useEffect } from 'react';\nimport {trans, createElement, createHashFromStr} from '../general_';\nimport LoadingIcon from './loading-icon';\nimport fetch_ from '../fetch_';\nimport lc_ from '../stroage_';\nimport ChattingInitParameterPanel from \"./chatting-init-parameter-panel\";\nimport {addMessage} from './message-footer';\n\n// for control the history page scrolling\nlet continueScroll = true;\n///////////////////////////////////////////\nexport default function ChattingHistoryInteractionPanel({translation, isLogin, topicHash, setTopichash, setThreadList}){\n  const [isLoading, setIsLoading] = useState(false);\n  const chattingDisplay = useRef(null);\n  const userInputTextarea = useRef(null);\n  const inputCounter = useRef(null);\n  let initParameter = {model: 1, temperature: 1};\n  ///////////////////////////////////////\n  useEffect(() => {\n    chattingDisplay.current.innerHTML = \"\";\n    if(topicHash !== undefined){\n      const threadHistory = lc_.readThread(topicHash);\n      for(let el of threadHistory){\n        chattingDisplay.current.append(renderChattingCard(el));\n      }\n    }\n    \n  }, [topicHash])\n//\n  function renderChattingCard(threadRow){\n    const {card, answerDisplay, blinkingCursor} = createChattingCard({q: threadRow.question});\n    answerDisplay.innerHTML = threadRow.response;\n    blinkingCursor.parentElement.removeChild(blinkingCursor);\n    return card;\n  }\n  function renderChattingDisplay(){\n    return <div className='chatting-display-container'>\n      {(!topicHash && !isLoading) &&<ChattingInitParameterPanel \n        translation = {translation} \n        isLogin = {isLogin} \n        initParameter = {initParameter}\n      />}\n      <div \n        ref = {chattingDisplay}\n        className = 'chatting-history-display'\n        onTouchMove = {onHistoryPanelScroll}\n        onKeyDown = {onHistoryPanelScroll}\n        onMouseDown = {onHistoryPanelScroll}\n        onWheel = {onHistoryPanelScroll}\n      >\n      </div>\n    </div>\n  }\n  //////////////////////////////////////////\n  const createChattingCard = ({q}) => {\n    const answerDisplay = createElement({tagname_: \"pre\", class: \"anwser-display\"});\n    const blinkingCursor = createElement({\n      tagname_: \"i\", \n      class: \"fa-solid fa-terminal fa-sm fa-fade\", \n      style:\"padding-bottom: 10vh;\"\n    });\n    const card = createElement({\n      class: \"chatting-card animate-box animate-new-box\",\n      childs_: [\n        {class: \"question-div\", childs_: [\n          {tagname_: \"span\", class: \"title\", innerHTML: `${trans(\"Question\", translation)}: `},\n          {tagname_: \"span\", innerText: q}\n        ]},\n        {class: \"anwser-div\", childs_: [\n          {tagname_: \"span\", class: \"title\", innerText: `${trans('Anwser',translation)}: `},\n          answerDisplay,\n          blinkingCursor\n        ]},\n      ]\n    })\n    return {card, answerDisplay, blinkingCursor};\n  }\n  \n  //////////////////////////////////////////\n  const onTextareaChange = (evt) => {\n    inputCounter.current.innerText = evt.target.value.length;\n  }\n  const onHistoryPanelScroll = (evt) => {\n    continueScroll = false;\n  }\n  const onSubmitClick = (evt) => {\n    if(!isLoading && userInputTextarea.current.value.length > 4){\n      ///put a timeout count down to avoid freeze of the app, check the freeze time every second\n      let timeoutCountDown = new Date().getTime();\n      const controller = new AbortController();\n      const { signal } = controller;\n      const countDown = setInterval(() => {\n        //if the app freeze by 5 seconds, clean up the mess and set loading to false to ready another request\n        if(timeoutCountDown + 5000 < new Date().getTime()){\n          controller.abort();\n          setIsLoading(false);\n          clearInterval(countDown);\n        }\n      }, 1000);\n      \n      //count down function finish\n      setIsLoading(true);\n      //preparing data\n      //const = markdownResponse = \"; Provide your response in a markdown code block.\";\n      const history = lc_.readThread(topicHash);\n      let messages, prompt, model, temperature, title, type;\n      \n      if(Array.isArray(history)){\n        //old chat\n        messages = history[history.length -1].messages;\n        model = history[history.length -1].model;\n        temperature = history[history.length -1].temperature;\n        type = history[history.length -1].type;\n        title = history[history.length -1].title;\n      }else{\n        //new chat\n        prompt = initParameter.prompt;\n        model = initParameter.model;\n        temperature = initParameter.temperature;\n        type = initParameter.type;\n        title = initParameter.title;\n      }\n      \n      if(messages !== undefined){\n        //if continue chat\n        messages.push({\n          role : \"user\",\n          content : userInputTextarea.current.value\n        })\n      }else{\n        //if new chat\n        messages = [\n          {\n            role: \"system\",\n            content: `${prompt || \"\"}`\n          },\n          {\n            role : \"user\",\n            content : userInputTextarea.current.value\n          }\n        ];\n      }\n      \n      var fullContent = \"\";\n      //preparing html elements\n      const {card, answerDisplay, blinkingCursor} = createChattingCard({q: userInputTextarea.current.value});\n      chattingDisplay.current.append(card);\n      //reset panel scroll, if user scroll in the process, it will stop scrolling\n      chattingDisplay.current.scrollTop = chattingDisplay.current.scrollHeight;\n      continueScroll = true;\n      //fetch init\n\n      fetch_.chatting_to_openai({messages, model, temperature}, onData, signal);\n      \n      ////helper on data\n      function onData(res){\n        \n        try {\n          //for timeout count time\n          timeoutCountDown = new Date().getTime();\n          for(let item of res){\n            const json = JSON.parse(item);\n            if(json.onEnd){\n              // on end \n              blinkingCursor.parentElement.removeChild(blinkingCursor);\n              setIsLoading(false);\n              clearInterval(countDown);\n              //call the end before clear the user input\n              requestOnEnd(model, temperature, messages, fullContent);\n              \n              userInputTextarea.current.value = \"\";\n            }else if(json.error){\n              //on error\n              throw new Error(json.error);\n            }else if(json.data.content){\n              //on data\n              fullContent += json.data.content;\n              answerDisplay.innerHTML += json.data.content;\n              if(continueScroll){\n                chattingDisplay.current.scrollTop = chattingDisplay.current.scrollHeight;\n              } \n            }\n          }\n        } catch (error) {\n          if(blinkingCursor.parentElement) blinkingCursor.parentElement.removeChild(blinkingCursor);\n          console.log(\"error\", res, error);\n          card.append(createElement({\n            class: \"error\", \n            innerHTML: `${trans('error',translation)}: ${error.message}`\n          }));\n          addMessage(\n            trans(\"Chatting Page\"), \n            error.message, \n            \"error\"\n          );\n          setIsLoading(false);\n          clearInterval(countDown);\n          controller.abort();\n        }\n        \n      }\n      function requestOnEnd(model, temperature, messages, fullContent){\n        if(topicHash === undefined){\n          //new topic\n          const textValue = userInputTextarea.current.value;\n          topicHash = createHashFromStr(textValue + new Date().toLocaleString());\n          setTopichash(topicHash);\n          lc_.saveChat(topicHash, {model, temperature, question: textValue, messages, response: fullContent, type, title});\n          setThreadList(lc_.readThreadsAsArray());\n        }else{\n          //old topic\n          const textValue = userInputTextarea.current.value;\n          lc_.saveChat(topicHash, {model, temperature, question: textValue, messages, response: fullContent, type, title});\n        }\n      }\n    }\n  }\n  //////////////////////////////////////////\n  return <div className='chatting-history-content-panel'>\n    <div></div>\n    {renderChattingDisplay()}\n    <div className='chatting-question-input-panel'>\n      <div className='input'>\n        <textarea \n          placeholder = {trans('type in you question in here.', translation)}\n          readOnly = {isLoading}\n          disabled = {isLoading}\n          ref = {userInputTextarea}\n          maxLength = {10000}\n          onChange = {onTextareaChange}\n        />\n      </div>\n      <div className='submit-button'>\n        <span><span ref={inputCounter}>0</span>/10000</span>\n        <button className='c-hand btn' onClick={onSubmitClick}>\n          {isLoading? <LoadingIcon />: trans(\"Send\", translation)}\n        </button>\n      </div>\n    </div>\n    <div></div>\n  </div>\n}","import { trans, setDeepJsonValue } from '../general_';\nimport './chatting-thread-list-panel.scss';\nimport React, { useRef, useState } from 'react';\nimport lc_ from '../stroage_';\nimport { useNavigate } from \"react-router-dom\";\nimport {addMessage} from '../components/message-footer';\n///////////////////////////////////////\nexport default function ChattingThreadListPanel({ setTopichash, threadList, translation, setThreadList, isLogin, userInfo, setUserInfo}){\n  const navigate = useNavigate();\n  const themeForm = useRef(null);\n  const themeCustomModal = useRef(null);\n  const [customModalShow, setCustomModalShow] = useState(false);\n  onLightModeClick();\n  ///////////////////////////////////////////\n  const renderThreadCard = (thread, idx) => {\n    return <div \n      className = 'chatting-thread-card' \n      key = {`chatting-thread-card-${idx}`}\n    >\n      <div \n        className = 'title' \n        onClick = {() => onCardClick(thread)}\n      >\n        <p>\n          {thread.type && <span>{thread.type} </span>}\n          {thread.title && <span> {thread.title}</span>}\n        </p>\n        <span>{thread.question.substring(0, 80)}</span>\n      </div>\n      <div className='icon-div'>\n        <div className='disable'>\n          <i className=\"fa-solid fa-ellipsis\"></i>\n        </div>\n        <div onClick={()=>onThreadDeleteClick(thread.threadHash)}>\n          <i className=\"fa-solid fa-trash-can\"></i>\n        </div>\n      </div>\n    </div>\n  }\n  const renderThemeCustomModal = () => {\n    const cs = getComputedStyle(document.documentElement);\n    ////////////////////////////////\n    const onFormSubmit = (evt) => {\n      evt.preventDefault();\n      const formData = (new FormData(themeForm.current)).entries();\n      const customRet = {};\n      for(let [key, val] of formData){\n        customRet[key] = val;\n      }\n      onLightModeClick(\"setCustom\", customRet);\n      setCustomModalShow(false);\n    }\n    function colorNameToHex(color) {\n      var dummy = document.createElement(\"div\");\n      dummy.style.color = color;\n      document.body.appendChild(dummy);\n      // \n      var computedColor = window.getComputedStyle(dummy).color;\n      document.body.removeChild(dummy);\n      // RGBHEX\n      var rgb = computedColor.match(/\\d+/g); \n      return \"#\" + ((1 << 24) + (parseInt(rgb[0]) << 16) + (parseInt(rgb[1]) << 8) + parseInt(rgb[2])).toString(16).slice(1).toUpperCase();\n    }\n    ///////////////////\n    return <div className=\"modal modal-sm active\" ref={themeCustomModal}>\n      <span href=\"#close\" className=\"modal-overlay\" aria-label=\"Close\"></span>\n      <div className=\"modal-container\">\n        <div className=\"modal-header\">\n          <span href=\"#close\" className=\"btn btn-clear float-right c-hand\" aria-label=\"Close\" onClick={()=>setCustomModalShow(false)}><i className=\"fa-solid fa-xmark close-button\"></i></span>\n          <div className=\"modal-title h5\">{trans(\"Custom Theme\", translation)}</div>\n        </div>\n        <div className=\"modal-body\">\n          <div className=\"content\"><form ref={themeForm} onSubmit={onFormSubmit}>\n            <div className='form-group'>\n              <div className='col-3'>\n                <label>background-color</label>\n              </div>\n              <div className='col-9'>\n                <input \n                  name = '--chatting-background-color' \n                  type = 'color' \n                  defaultValue = {colorNameToHex(cs.getPropertyValue('--chatting-background-color'))}\n                />\n              </div>\n            </div>\n            <div className='form-group'>\n              <div className='col-3'>\n                <label>border-color</label>\n              </div>\n              <div className='col-9'>\n                <input \n                  name = '--chatting-border-color' \n                  type = 'color' \n                  defaultValue = {colorNameToHex(cs.getPropertyValue('--chatting-border-color'))}\n                />\n              </div>\n            </div>\n            <div className='form-group'>\n              <div className='col-3'>\n                <label>pre-font-size</label>\n              </div>\n              <div className='col-9'>\n                <select className=\"form-select\" defaultValue={cs.getPropertyValue('--chatting-content-pre-font-size')}>\n                  <option>Choose an option</option>\n                  <option>large</option>\n                  <option>medium</option>\n                  <option>small</option>\n                </select>\n              </div>\n            </div>\n            <div className='form-group'>\n              <div className='col-3'>\n                <label>text-color</label>\n              </div>\n              <div className='col-9'>\n                <input \n                  name = '--chatting-text-color' \n                  type = 'color' \n                  defaultValue = {colorNameToHex(cs.getPropertyValue('--chatting-text-color'))}\n                />\n              </div>\n            </div>\n            <div className='form-group'>\n              <div className='col-3'>\n                <label>error-text-color</label>\n              </div>\n              <div className='col-9'>\n                <input \n                  name = '--chatting-error-text-color' \n                  type = 'color' \n                  defaultValue = {colorNameToHex(cs.getPropertyValue('--chatting-error-text-color'))}\n                />\n              </div>\n            </div>\n            <div className='form-group'>\n              <div className='col-3'>\n                <label>outline-color</label>\n              </div>\n              <div className='col-9'>\n                <input \n                  name = '--chatting-init-parameter-outline-color' \n                  type = 'color' \n                  defaultValue = {colorNameToHex(cs.getPropertyValue('--chatting-init-parameter-outline-color'))}\n                />\n              </div>\n            </div>\n            <div className='form-group'>\n              <div className='col-3'>\n                <label>fade-item-color</label>\n              </div>\n              <div className='col-9'>\n                <input \n                  name = '--chatting-init-parameter-fade-item-color' \n                  type = 'color' \n                  defaultValue = {colorNameToHex(cs.getPropertyValue('--chatting-init-parameter-fade-item-color'))}\n                />\n              </div>\n            </div>\n            <div className='form-group'>\n              <div className='col-3'>\n                <label>active-text-color</label>\n              </div>\n              <div className='col-9'>\n                <input \n                  name = '--chatting-active-text-color' \n                  type = 'color' \n                  defaultValue = {colorNameToHex(cs.getPropertyValue('--chatting-active-text-color'))}\n                />\n              </div>\n            </div>\n          </form></div>\n        </div>\n        <div className=\"modal-footer\">\n          <div className='button-group'>\n              <button \n                className = 'btn c-hand' \n                onClick = {() => {setCustomModalShow(false)}}\n              >{trans(\"Cancel\", translation)}</button>\n              <button \n                className='btn c-hand'\n                onClick = {() => themeForm.current.requestSubmit()}\n              >{trans(\"Save\", translation)}</button>\n            </div>\n        </div>\n      </div>\n    </div>\n  }\n  ///////////////////////////////////////////\n  function onCardClick(thread){\n    setTopichash(thread.threadHash);\n  }\n  function onNewChatClick(){\n    if(!isLogin()){\n      navigate(\"/\");\n      addMessage(\n        trans(\"Chatting page\", translation),\n        trans(\"You need to login first.\", translation),\n        'error'\n      );\n    }\n    setTopichash(undefined);\n  }\n  function onClearChatHistoryClick(){\n    lc_.clearAllThreads();\n    setThreadList(lc_.readThreadsAsArray());\n  }\n  function onThreadDeleteClick(threadHash){\n    lc_.removeThread(threadHash);\n    setTopichash(pv => {\n      if(pv === threadHash){\n        return undefined;\n      }\n    })\n    setThreadList(lc_.readThreadsAsArray());\n  }\n  function onLightModeClick(mode, theme = undefined){\n    let root = document.querySelector(':root');\n    let json = {};\n\n    switch(mode){\n      case \"dark\":\n        json = darkMode();\n        saveMode();\n      break;\n      case undefined:\n        json = userInfo?.profile_setting?.setting?.chatting?.theme;\n      break;\n      case \"custom\":\n        setCustomModalShow(true);\n      break;\n      case \"setCustom\":\n        //set theme and save\n        if(theme !== undefined){\n          json = theme;\n          saveMode();\n        }\n      break;\n      default:\n        json = defaultMode();\n        saveMode();\n    }\n    for(let key in json){\n      root.style.setProperty(key, json[key]);\n    }\n    function saveMode(){\n      setUserInfo(pv => {\n        pv = setDeepJsonValue(pv, [\"profile_setting\",'setting','chatting','theme'], json);\n        lc_.UpdateUserProfile(pv[\"profile_setting\"], (res) => { });\n        return {...pv};\n      });\n    }\n    function defaultMode(){\n      return {\n        \"--chatting-background-color\" : \"white\",\n        \"--chatting-border-color\": \"darkgray\",\n        \"--chatting-content-pre-font-size\": \"medium\",\n        \"--chatting-text-color\": \"black\",\n        \"--chatting-error-text-color\": \"red\",\n        \"--chatting-init-parameter-outline-color\": \"blue\",\n        \"--chatting-init-parameter-fade-item-color\": \"lightgray\",\n        \"--chatting-active-text-color\": \"purple\"\n      }\n    }\n    function darkMode(){\n      return {\n        \"--chatting-background-color\" : \"#444\",\n        \"--chatting-border-color\": \"#999\",\n        \"--chatting-content-pre-font-size\": \"medium\",\n        \"--chatting-text-color\": \"white\",\n        \"--chatting-error-text-color\": \"red\",\n        \"--chatting-init-parameter-outline-color\": \"blue\",\n        \"--chatting-init-parameter-fade-item-color\": \"lightgray\",\n        \"--chatting-active-text-color\": \"violet\"\n      }\n    }\n  }\n  ///////////////////////////////////////////\n  return <div className='chatting-thread-list-panel'>\n    <div></div>\n    <div className='chatting-function-and-list'>\n      <div className='chatting-thread-function-div'>\n        <div className=\"dropdown\">\n          <span \n            className = \"dropdown-toggle c-hand\" \n            tabIndex = \"0\"\n          >\n            <i className=\"fa-solid fa-circle-half-stroke\"></i>\n          </span>\n          <ul className=\"menu\">\n            <li \n              className = \"menu-item c-hand\"\n              onClick = {() => onLightModeClick(\"light\")}\n            >{trans(\"Light\", translation)}</li>\n            <li \n              className = \"menu-item c-hand\"\n              onClick = {() => onLightModeClick(\"dark\")}\n            >{trans(\"Dark\", translation)}</li>\n            <li \n              className = \"menu-item c-hand\"\n              onClick = {() => onLightModeClick(\"custom\")}\n            >{trans(\"Custom\", translation)}</li>\n          </ul>\n        </div>\n      </div>\n      <div className='chatting-thread-list-div'>\n        {threadList.length === 0\n          ? <h3>{trans(\"no chatting history yet. add one?\", translation)}</h3>\n          : threadList.map(renderThreadCard)\n        }\n      </div>\n    </div>\n    \n    <div className='chatting-thread-list-function-div'>\n      <button className='c-hand' onClick={onClearChatHistoryClick}>{trans(\"Clear chat history\", translation)}</button>\n      <button className='c-hand' onClick={onNewChatClick}>{trans(\"New Chat\", translation)}</button>\n    </div>\n    <div>{customModalShow && renderThemeCustomModal()}</div>\n  </div>\n}","import ChattingHistoryInteractionPanel from '../components/chatting-history-interaction-panel';\nimport ChattingThreadListPanel from '../components/chatting-thread-list-panel';\nimport lc_ from '../stroage_';\nimport './chatting.css';\nimport React, {useState} from 'react';\n///////////////////////////////////////\nexport default function Chatting({translation, isLogin, userInfo, setUserInfo}){\n  let [topicHash, setTopichash] = useState(undefined);\n  const [threadList, setThreadList] = useState(lc_.readThreadsAsArray());\n  return <div className='chatting-container'>\n    {isLogin()\n    ?\n    <>\n      <div className='chat-history-topic-panel'>\n        <ChattingThreadListPanel\n          translation = {translation} \n          isLogin = {isLogin}\n          topicHash = {topicHash}\n          setTopichash = {setTopichash}\n          threadList = {threadList}\n          setThreadList = {setThreadList}\n          userInfo = {userInfo}\n          setUserInfo = {setUserInfo}\n        />\n      </div>\n      <ChattingHistoryInteractionPanel \n        translation = {translation} \n        isLogin = {isLogin}\n        topicHash = {topicHash}\n        setTopichash = {setTopichash}\n        setThreadList = {setThreadList}\n      />\n    </>\n    :\n    <div>please login first</div>\n    }\n  </div>\n}","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport Landing from './pages/landing';\nimport ReadingPage from './pages/reading-page';\nimport NavBar from './components/navbar';\nimport { useEffect, useRef, useState } from 'react';\nimport fe_ from './fetch_';\nimport { throttle } from './general_';\nimport { MessageFooter, addMessage } from './components/message-footer';\nimport MobileLandingPage from './pages/mobile-landing-page';\nimport MobileNavbar from './mobile-only-components/mobile-navbar';\nimport Chatting from './pages/chatting.js';\nconst mobileDesttopScreenSizeTrigger = 750;\n/////////////////////\nfunction App() {\n  let [translation, setTranslation] = useState({});\n  let [language, setLanguage] = useState({ availableList: [], currentLanguage: \"english.json\" });\n  let [userInfo, setUserInfo] = useState({});\n  let [screenWidthMatch, setScreenWidthMatch] = useState(!window.matchMedia(`(max-width: ${mobileDesttopScreenSizeTrigger}px)`).matches);\n  const signInUpButton = useRef(null);\n  //////////////////////////////////////////\n  //check screen size, for keeping the cpu usage low, build a throttle to limit the Frequent.\n  const throttleMoveFn = throttle(() => {\n    const ret = !window.matchMedia(`(max-width: ${mobileDesttopScreenSizeTrigger}px)`).matches;\n    if (screenWidthMatch !== ret) setScreenWidthMatch(ret);\n  }, 100);\n  window.addEventListener(\"resize\", (evt) => {\n    throttleMoveFn();\n  })\n  //////////////////////////////////////////\n  useEffect(() => {\n    try {\n      fe_.getLanguages(({ availableList, currentLanguage, translation }) => {\n        if (availableList && currentLanguage) {\n          setLanguage({ availableList, currentLanguage });\n        }\n        if (translation) setTranslation(translation);\n      });\n    } catch (error) {\n\n    }\n\n    fe_.checkLoginStatus((data) => {\n      setUserInfo(data.data);\n    });\n\n  }, [])\n  //////////////////////////////////////////\n  const isLogin = () => {\n    try {\n      return userInfo.username ? true : false;\n    } catch (error) {\n      return false;\n    }\n  }\n  //////////////////////////////////////////\n  return (\n    <div className=\"App\">\n      <link rel=\"stylesheet\" href=\"https://unpkg.com/transition-style\"></link>\n      {screenWidthMatch\n        ?//desktop version\n        <Router>\n          <NavBar\n            language={language}\n            setLanguage={setLanguage}\n            setTranslation={setTranslation}\n            translation={translation}\n            addMessage={addMessage}\n            userInfo={userInfo}\n            setUserInfo={setUserInfo}\n            isLogin={isLogin}\n            signInUpButton={signInUpButton}\n          />\n          <MessageFooter translation={translation} />\n          <main>\n            <Routes>\n              <Route path=\"/reading/:filehash\" element={<ReadingPage\n                translation={translation}\n                isLogin={isLogin}\n                language={language}\n              />} />\n              <Route path=\"/reading\" element={<ReadingPage\n                translation={translation}\n                isLogin={isLogin}\n                language={language}\n              />} />\n              <Route path=\"/chatting\" element={<Chatting\n                translation={translation}\n                isLogin={isLogin}\n                userInfo={userInfo}\n                setUserInfo={setUserInfo}\n              />} />\n              <Route path=\"/\" element={<Landing\n                translation={translation}\n                isLogin={isLogin}\n                signInUpButton={signInUpButton}\n              />} />\n            </Routes>\n          </main>\n        </Router>\n        ://mobile version\n        <Router>\n          <MobileNavbar\n            language={language}\n            setLanguage={setLanguage}\n            setTranslation={setTranslation}\n            translation={translation}\n            addMessage={addMessage}\n            userInfo={userInfo}\n            setUserInfo={setUserInfo}\n            isLogin={isLogin}\n          />\n          <main>\n            <Routes>\n              <Route path='*' element={\n                <MobileLandingPage />\n              }></Route>\n            </Routes>\n          </main>\n        </Router>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  // <React.StrictMode>\n    <App />\n  // </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}